{"uuid":"33fca2c4-a352-11e9-a2a3-2a2ae2dbcce4","nome":"PM QUATRO PONTES - FL CURITIBA - PILOTO - 2018 (MovimentoRealizavel, Convenio)","usuario":"luiz.naspolini","idEntidade":"3606","dataGeracao":"10-07-2019 17:35:06","quantidadeErros":"14","quantidadeAvisos":"0","quantidadeErrosFixo":"14","quantidadeAvisosFixo":"0","textoHtml":"<!DOCTYPE html><html lang=\"en\"><head><title>Validações &nbspTCE-PR_SIM-AM-Contabil</title><meta charset=\"utf-8\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"><link rel=\"shortcut icon\" href=\"https://i.ibb.co/2KddCq7/23113851-300x300.png\" type=\"image/x-icon\"><script src=\"https://cdn.betha.cloud/base/g4/front-end/2.13/js/base.js\"></script><script src=\"https://cdn.betha.cloud/base/g4/design/3.11.9/bth-design.js\"></script><script src=\"https://canvasjs.com/assets/script/canvasjs.min.js\"></script><link rel=\"stylesheet\" href=\"https://cdn.betha.cloud/base/g4/design/3.11.9/bth-design.css\"><link rel=\"stylesheet\" href=\"https://use.fontawesome.com/releases/v5.8.1/css/all.css\" integrity=\"sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf\" crossorigin=\"anonymous\"><style> /* CSS for the main interaction */ .tabset {font-size: 15px;} .tabset > input[type=\"radio\"] { position: absolute; left: -200vw; } .tabset .tab-panel { display: none; }.tabset>input:first-child:checked~.tab-panels>.tab-panel:first-child,.tabset>input:nth-child(3):checked~.tab-panels>.tab-panel:nth-child(2),.tabset>input:nth-child(5):checked~.tab-panels>.tab-panel:nth-child(3),.tabset>input:nth-child(7):checked~.tab-panels>.tab-panel:nth-child(4),.tabset>input:nth-child(9):checked~.tab-panels>.tab-panel:nth-child(5),.tabset>input:nth-child(11):checked~.tab-panels>.tab-panel:nth-child(6),.tabset>input:nth-child(13):checked~.tab-panels>.tab-panel:nth-child(7),.tabset>input:nth-child(15):checked~.tab-panels>.tab-panel:nth-child(8),.tabset>input:nth-child(17):checked~.tab-panels>.tab-panel:nth-child(9),.tabset>input:nth-child(19):checked~.tab-panels>.tab-panel:nth-child(10),.tabset>input:nth-child(21):checked~.tab-panels>.tab-panel:nth-child(11),.tabset>input:nth-child(23):checked~.tab-panels>.tab-panel:nth-child(12),.tabset>input:nth-child(25):checked~.tab-panels>.tab-panel:nth-child(13),.tabset>input:nth-child(27):checked~.tab-panels>.tab-panel:nth-child(14),.tabset>input:nth-child(29):checked~.tab-panels>.tab-panel:nth-child(15),.tabset>input:nth-child(31):checked~.tab-panels>.tab-panel:nth-child(16),.tabset>input:nth-child(33):checked~.tab-panels>.tab-panel:nth-child(17),.tabset>input:nth-child(35):checked~.tab-panels>.tab-panel:nth-child(18),.tabset>input:nth-child(37):checked~.tab-panels>.tab-panel:nth-child(19),.tabset>input:nth-child(39):checked~.tab-panels>.tab-panel:nth-child(20),.tabset>input:nth-child(41):checked~.tab-panels>.tab-panel:nth-child(21),.tabset>input:nth-child(43):checked~.tab-panels>.tab-panel:nth-child(22),.tabset>input:nth-child(45):checked~.tab-panels>.tab-panel:nth-child(23),.tabset>input:nth-child(47):checked~.tab-panels>.tab-panel:nth-child(24),.tabset>input:nth-child(49):checked~.tab-panels>.tab-panel:nth-child(25){display: block;}/* Styling */ .tabset > label { position: relative; display: inline-block; padding: 15px 15px 25px; border: 1px solid transparent; border-bottom: 0; cursor: pointer; font-weight: 600; top: 8px; } .tabset > label::after { content: \"\"; position: absolute; left: 15px; bottom: 10px; width: 22px; height: 4px; background: #8d8d8d; } .tabset > label:hover, .tabset > input:focus + label { color: #06c; } .tabset > label:hover::after, .tabset > input:focus + label::after, .tabset > input:checked + label::after { background: #06c; } .tabset > input:checked + label { border-color: #ccc; border-bottom: 1px solid #fff; margin-bottom: -1px; } .tab-panel { padding: 30px 0; border-top: 1px solid #ccc; } /* Demo purposes only */ *, *:before, *:after { box-sizing: border-box; }#myInput { background-image: url(https://image.flaticon.com/icons/svg/116/116836.svg); background-size: 100% 50%;/* Add a search icon to input */ background-position: 500px 12px; /* Position the search icon */ background-repeat: no-repeat; /* Do not repeat the icon image */ width: 100%; /* Full-width */ font-size: 16px; /* Increase font-size */ padding: 12px 20px 12px 40px; /* Add some padding */ border: 1px solid #ddd; /* Add a grey border */ margin-bottom: 12px; /* Add some space below the input */ } #myTable { border-collapse: collapse; /* Collapse borders */ width: 100%; /* Full-width */ border: 1px solid #ddd; /* Add a grey border */ font-size: 18px; /* Increase font-size */ } #myTable th, #myTable td { text-align: left; /* Left-align text */ padding: 12px; /* Add padding */ } #myTable tr { /* Add a bottom border to all table rows */ border-bottom: 1px solid #ddd; } #myTable tr.header, #myTable tr:hover { /* Add a grey background color to the table header and on hover */ background-color: #f1f1f1; }.fas.fa-exclamation-triangle{color: #ef1f41}.fas.fa-exclamation-circle{color: #deea00}.fas.fa-check-circle{ color: #04ce40 }.table-danger{background-color: #ffccce!important;} .table-warning{background-color: #fcf7b5!important;} .table-success{background-color: #b9d8b4!important;}body {            background-color: #fafafa;            font-size: 16px;            line-height: 1.5;            padding-top: 33px;        }        h1,        h2,        h3,        h4,        h5,        h6 {            font-weight: 400;        }        #header {            border-bottom: 5px solid #37474F;            color: #37474F;            margin-bottom: 1.5rem;        }        #revenue-tag {            font-weight: inherit !important;            border-radius: 0px !important;        }        .card {            border: 0rem;            border-radius: 0rem;        }        .card-header {            background-color: #37474F;            border-radius: 0 !important;            color: white;            margin-bottom: 0;            padding: 1rem;        }        .card-block {            border: 1px solid #cccccc;        }        .shadow {            box-shadow: 0 6px 10px 0 rgba(0, 0, 0, 0.14),                0 1px 18px 0 rgba(0, 0, 0, 0.12),                0 3px 5px -1px rgba(0, 0, 0, 0.2);        }        #revenue-column-chart,        #products-revenue-pie-chart,        #orders-spline-chart,        #graficoAvisosArquivo,        #graficoAvisosArquivo,\t\t #graficoEvolucaoInconsistencias,        #chartContainer {            height: 300px;            width: 100%; }</style></head><script>setInterval(function() { atualizaGraficoStacked();console.log(\"Dashboard atualizado!\"); }, 60000);var registrosCorrigidos = [];var paragrafosCorrigidos = [];var numeroCorrecoes = 0;var numeroErros = 0;var numeroAvisos = 0;var qtdErrosFixo = 0;var qtdAvisosFixo = 0;function GetMaiorData(dadosApi){\tvar ultimaExecucao = \"\";\tfor(var i = 0; i < dadosApi.length; i++){\t\tif(i === 0){\t\t\tultimaExecucao = dadosApi[i].dataGeracao;\t\t} else{\t\t\tif(dadosApi[i].dataGeracao > dadosApi[i-1].dataGeracao){\t\t\t\tultimaExecucao = dadosApi[i].dataGeracao;\t\t\t}\t\t}\t}\treturn ultimaExecucao;}async function atualizaGraficoStacked(){var graficoStackedColumn = \"\";    var graficoErrosArquivo = \"\";var graficoAvisosArquivo = \"\";var dadosErro = [];var dadosAviso = [];var dadosErroStacked = [];var dadosAvisoStacked = [];var dadosCorrecoesStacked = [];var dadosEvolucaoErros = [];var dadosEvolucaoAvisos = [];var retornoApiChaves = await getDadosPorChave();var dadosCardDashboard = await getDadosPorUUID();var dadosCorrigidoDashboard = 0;qtdErrosFixo = dadosCardDashboard.object[0].quantidadeErrosFixo;qtdAvisosFixo = dadosCardDashboard.object[0].quantidadeAvisosFixo;if(dadosCardDashboard.object[0].tabelaCorrigida){\tdadosCorrigidoDashboard = dadosCardDashboard.object[0].tabelaCorrigida.length;}document.querySelector(\".ErrosCardDashboard\").innerText = dadosCardDashboard.object[0].quantidadeErros;document.querySelector(\".AvisosCardDashboard\").innerText = dadosCardDashboard.object[0].quantidadeAvisos;document.querySelector(\".CorrecoesCardDashboard\").innerText = dadosCorrigidoDashboard;document.querySelector(\".UltimaExecCardDashboard\").innerText = GetMaiorData(retornoApiChaves.object);var first = true;var arquivos = document.querySelectorAll(\".tab-panel\");for (var i = 0; i < arquivos.length; i++) {if (arquivos[i].id != \"Dashboard0\" && arquivos[i].id != \"Todos0\") {if (first) {dadosErro.push({y: Number((arquivos[i].children[3].children[2].innerText)),name: (arquivos[i].id.substring(0, arquivos[i].id.length - 1)),indexLabel: (arquivos[i].id.substring(0, arquivos[i].id.length - 1)),legendText: (arquivos[i].id.substring(0, arquivos[i].id.length - 1)),exploded: true,});dadosAviso.push({y: Number((arquivos[i].children[3].children[5].innerText)),name: (arquivos[i].id.substring(0, arquivos[i].id.length - 1)),indexLabel: (arquivos[i].id.substring(0, arquivos[i].id.length - 1)),legendText: (arquivos[i].id.substring(0, arquivos[i].id.length - 1)),exploded: true,});dadosErroStacked.push({y: Number((arquivos[i].children[3].children[2].innerText)),label: (arquivos[i].id.substring(0, arquivos[i].id.length - 1))});dadosAvisoStacked.push({y: Number((arquivos[i].children[3].children[5].innerText)),label: (arquivos[i].id.substring(0, arquivos[i].id.length - 1))});dadosCorrecoesStacked.push({y: Number((arquivos[i].children[3].children[8].innerText)),label: (arquivos[i].id.substring(0, arquivos[i].id.length - 1))});} else {dadosErro.push({y: Number((arquivos[i].children[3].children[2].innerText)),name: (arquivos[i].id.substring(0, arquivos[i].id.length - 1)),indexLabel: (arquivos[i].id.substring(0, arquivos[i].id.length - 1)),legendText: (arquivos[i].id.substring(0, arquivos[i].id.length - 1)),});dadosAviso.push({y: Number((arquivos[i].children[3].children[5].innerText)),name: (arquivos[i].id.substring(0, arquivos[i].id.length - 1)),indexLabel: (arquivos[i].id.substring(0, arquivos[i].id.length - 1)),legendText: (arquivos[i].id.substring(0, arquivos[i].id.length - 1)),exploded: true,});dadosErroStacked.push({y: Number((arquivos[i].children[3].children[2].innerText)),label: (arquivos[i].id.substring(0, arquivos[i].id.length - 1))});dadosAvisoStacked.push({y: Number((arquivos[i].children[3].children[5].innerText)),label: (arquivos[i].id.substring(0, arquivos[i].id.length - 1))});dadosCorrecoesStacked.push({y: Number((arquivos[i].children[3].children[8].innerText)),label: (arquivos[i].id.substring(0, arquivos[i].id.length - 1))});}}}for (var i = 0; i < retornoApiChaves.object.length; i++) {\tdadosEvolucaoErros.push({\t\tlabel: retornoApiChaves.object[i].dataGeracao,\t\ty: Number(retornoApiChaves.object[i].quantidadeErrosFixo),\t});\tdadosEvolucaoAvisos.push({\t\tlabel: retornoApiChaves.object[i].dataGeracao,\t\ty: Number(retornoApiChaves.object[i].quantidadeAvisosFixo),\t});}graficoEvolucaoInconsistencias = new CanvasJS.Chart(\"graficoEvolucaoInconsistencias\", {\ttheme: \"light2\",\tanimationEnabled: true,\taxisY: {\t\tincludeZero: false,\t\ttitle: \"Numero de inconsistências\",\t},\ttoolTip: {\t\tshared: \"true\"\t},\tlegend: {\t\tcursor: \"pointer\",\t},\tdata: [\t{\t\ttype: \"spline\",\t\tcolor: \"red\",\t\tshowInLegend: true,\t\tname: \"Erros\",\t\tdataPoints: dadosEvolucaoErros\t},\t{\t\ttype: \"spline\",\t\tcolor: \"gold\",\t\tshowInLegend: true,\t\tname: \"Avisos\",\t\tdataPoints: dadosEvolucaoAvisos\t}]});graficoStackedColumn = new CanvasJS.Chart(\"chartContainer\", {data: [{type: \"stackedColumn\",color: \"#ffccce\",dataPoints: dadosErroStacked}, {type: \"stackedColumn\",color: \"#fcf7b5\",dataPoints: dadosAvisoStacked}, {type: \"stackedColumn\",color: \"#b9d8b4\",dataPoints: dadosCorrecoesStacked}]});graficoErrosArquivo = new CanvasJS.Chart(\"products-revenue-pie-chart\", {animationEnabled: true,theme: \"theme2\",legend: {fontSize: 14},toolTip: {borderThickness: 0,content: \"<span style='color: {color};'>{name}</span>: #percent%\",cornerRadius: 0},data: [{indexLabelFontColor: \"#676464\",indexLabelFontSize: 14,legendMarkerType: \"square\",legendText: \"{indexLabel}\",showInLegend: true,startAngle: 90,type: \"pie\",dataPoints: dadosErro,}]});graficoAvisosArquivo = new CanvasJS.Chart(\"graficoAvisosArquivo\", {animationEnabled: true,theme: \"theme2\",legend: {fontSize: 14},toolTip: {borderThickness: 0,content: \"<span style='color: {color};'>{name}</span>: #percent%\",cornerRadius: 0},data: [{indexLabelFontColor: \"#676464\",indexLabelFontSize: 14,legendMarkerType: \"square\",legendText: \"{indexLabel}\",showInLegend: true,startAngle: 90,type: \"pie\",dataPoints: dadosAviso,}]});graficoEvolucaoInconsistencias.render();graficoErrosArquivo.render();graficoAvisosArquivo.render();graficoStackedColumn.render();}$(function () {atualizaGraficoStacked();});function download_csv(csv, filename) {var csvFile;var downloadLink;csvFile = new Blob([\"﻿\",csv], {type: \"text/csv\"});downloadLink = document.createElement(\"a\");downloadLink.download = filename;downloadLink.href = window.URL.createObjectURL(csvFile);downloadLink.style.display = \"none\";document.body.appendChild(downloadLink);downloadLink.click();}function export_table_to_csv(html, filename) {var csv = [];var section = document.querySelector(\"#Todos0\");var rows = section.querySelectorAll(\".table-danger , .table-warning, .table-success\");for (var i = 0; i < rows.length; i++) {var row = [], cols = rows[i].querySelectorAll(\"td, th\");for (var j = 0; j < cols.length; j++){ if(j === 3){row.push(cols[j].children[0].dataset.content);}else{row.push(cols[j].innerText);}}csv.push(row.join('|'));}download_csv(csv.join(\"\\n\"), filename);}function geraRelCSV(){var html = document.querySelector(\"table\").outerHTML;export_table_to_csv(html, \"validacoes_TCE-PR_SIM-AM-Contabil_10-07-2019_17-35.csv\");}function mostraModalParametros(idModal){var display = document.querySelector(`#${idModal}`).style.display;if(display === \"none\"){var display = document.querySelector(`#${idModal}`).style.display = \"block\";}}function escondeModalParametros(idModal){document.querySelector(`#${idModal}`).style.display = \"none\";}function searchTableTodos(tableId,inputId) { var input, filter, found, table, tr, td, i, j; input = document.getElementById(inputId); filter = input.value.toUpperCase(); table = document.getElementById(tableId); tb = table.getElementsByTagName(\"tbody\"); for(i =0; i < tb.length; i++){ tr = tb[i].getElementsByTagName(\"tr\"); } for (i = 0; i < tr.length; i++) { td = tr[i].getElementsByTagName(\"td\"); for (j = 0; j < td.length; j++) { if (td[j].innerHTML.toUpperCase().indexOf(filter) > -1) { found = true; } } if (found) { tr[i].style.display = \"\"; found = false; } else { tr[i].style.display = \"none\"; } } }async function progresso(progressId) {var elem = document.getElementById(progressId);var width = 30;var id = setInterval(await frame, 10);async function frame() {if (width >= 100) {clearInterval(id);} else {width++;elem.style.width = width + '%';}}}jQuery.each( [ \"put\", \"delete\" ], function( i, method ) {jQuery[ method ] = function( url, data, callback, type ) {\tif ( jQuery.isFunction( data ) ) {\ttype = type || callback;\tcallback = data;\tdata = undefined;\t};\treturn jQuery.ajax({\turl: url,\ttype: method,\tdataType: type,\tdata: data,\tsuccess: callback\t});};});async function criaArquivo(uUID) {\tvar qtdErros = 0;\tvar qtdAviso = 0;\tvar dataGeracao = document.querySelector(\".dataGeracao\").innerText;\tvar chave = document.querySelector(\".parametrosBanco\").innerText;\terroAviso = document.querySelectorAll(\"h7\");\terroAviso.forEach(element => {\t\tif (!element.parentElement.parentElement.id.includes(\"Todos\")) {\t\t\tif (element.id.includes(\"qtdErro\")) {\t\t\t\tqtdErros += Number(element.innerText);\t\t\t}\t\t\tif (element.id.includes(\"qtdAviso\")) {\t\t\t\tqtdAviso += Number(element.innerText);\t\t\t}\t\t}\t});\tvar dados = {\t\tuuid: uUID,\t\ttabelaCorrigida: [],\t\tparagrafoCorrigido: [],\t\tdataGeracao: dataGeracao,\t\tquantidadeErros: qtdErros,\t\tquantidadeAvisos: qtdAviso,\t\tchave: chave,\t};\treturn new Promise(function (resolve, reject) {\t\t$.post(`http://betha-pdc-prevalidacoes.herokuapp.com/api/arquivo/`, dados, function (data, status) {\t\t\tresolve(data);\t\t});\t});}async function getDadosPorUUID() {\tvar uUID = document.querySelector(\".uuid\").innerText;\treturn new Promise((resolve, reject) => {\t\t$.get(`http://betha-pdc-prevalidacoes.herokuapp.com/api/arquivo/${uUID}`, function (data, status) {\t\t\tresolve(data);\t\t});\t}\t);}async function getDadosPorChave() {\tvar chave = document.querySelector(\".parametrosBanco\").innerText;\treturn new Promise((resolve, reject) => {\t\t$.get(`http://betha-pdc-prevalidacoes.herokuapp.com/api/arquivo/chave/${chave}/5/desc`, function (data, status) {\t\t\tarrayOrdenado = eval(data);\t\t\tvar results = arrayOrdenado['object'];\t\t\tresults.sort(function(a,b){\t\t\t\tif(a.dataGeracao == b.dataGeracao)\t\t\t\t\treturn 0;\t\t\t\tif(a.dataGeracao < b.dataGeracao)\t\t\t\t\treturn -1;\t\t\t\tif(a.dataGeracao > b.dataGeracao)\t\t\t\t\treturn 1;\t\t\t});\t\t\tdata.object = results;\t\t\tresolve(data);\t\t});\t});}async function atualizaDadosCorrecao(dadosTabela, dadosParagrafo) {\tvar uUID = document.querySelector(\".uuid\").innerText.substring(0, 36);\tvar qtdErros = 0;\tvar qtdAviso = 0;\tvar dataGeracao = document.querySelector(\".dataGeracao\").innerText;\tvar chave = document.querySelector(\".parametrosBanco\").innerText;\terroAviso = document.querySelectorAll(\"h7\");\terroAviso.forEach(element => {\t\tif (!element.parentElement.parentElement.id.includes(\"Todos\")) {\t\t\tif (element.id.includes(\"qtdErro\")) {\t\t\t\tqtdErros += Number(element.innerText);\t\t\t}\t\t\tif (element.id.includes(\"qtdAviso\")) {\t\t\t\tqtdAviso += Number(element.innerText);\t\t\t}\t\t}\t});\tvar dados = {\t\tuuid: uUID,\t\ttabelaCorrigida: dadosTabela,\t\tparagrafoCorrigido: dadosParagrafo,\t\tdataGeracao: dataGeracao,\t\tquantidadeErros: qtdErros,\t\tquantidadeAvisos: qtdAviso,\t\tquantidadeErrosFixo: qtdErrosFixo,\t\tquantidadeAvisosFixo: qtdAvisosFixo,\t\tchave: chave,\t};\t$.put(`http://betha-pdc-prevalidacoes.herokuapp.com/api/arquivo/${uUID}`, dados, function (result) {\t\tconsole.log(result);\t});}async function verificaArquivo(uuid) {\treturn new Promise(function (resolve, reject) {\t\t$.get(`http://betha-pdc-prevalidacoes.herokuapp.com/api/arquivo/${uuid}`, function (data, status) {\t\t\tif (data.object.length === 0) {\t\t\t\tresolve(false);\t\t\t};\t\t\tresolve(true);\t\t});\t});}async function getTabelasCorrigidas(uuid) {\treturn new Promise(function (resolve, reject) {\t\t$.get(`http://betha-pdc-prevalidacoes.herokuapp.com/api/arquivo/${uuid}`, function (data, status) {\t\t\tif (data.object[0].tabelaCorrigida) {\t\t\t\tresolve(data.object[0].tabelaCorrigida);\t\t\t};\t\t\tresolve(['']);\t\t});\t});}async function getParagrafosCorrigidos(uuid) {\treturn new Promise(function (resolve, reject) {\t\t$.get(`http://betha-pdc-prevalidacoes.herokuapp.com/api/arquivo/${uuid}`, function (data, status) {\t\t\tif ((data.object[0].paragrafoCorrigido)) {\t\t\t\tresolve(data.object[0].paragrafoCorrigido);\t\t\t};\t\t\tresolve(['']);\t\t});\t});}async function getDadosLocalStorage() {        var uUID = document.querySelector(\".uuid\").innerText.substring(0, 36);        var arquivoExiste = await verificaArquivo(uUID);        console.log(arquivoExiste);        if (!arquivoExiste) {            console.log(await criaArquivo(uUID));        } else {            var tabelasCorrigida = await getTabelasCorrigidas(uUID);            var paragrafosCorrigido = await getParagrafosCorrigidos(uUID);            if (tabelasCorrigida != \"\") {                tabelasCorrigida.forEach(tableId => {                    classe = document.getElementById(tableId).getAttribute(\"class\");                    if (classe == 'table-danger') {                        numeroCorrecoes = document.getElementById(paragrafosCorrigido[0]).children[8].innerText;                        numeroErros = document.getElementById(paragrafosCorrigido[0]).children[2].innerText;                        numeroCorrecoes++;                        numeroErros--;                        document.getElementById(paragrafosCorrigido[0]).children[8].innerText = numeroCorrecoes;                        document.getElementById(paragrafosCorrigido[0]).children[2].innerText = numeroErros;                        registrosCorrigidos.push(tableId);                        paragrafosCorrigidos.push(paragrafosCorrigido[0]);                        paragrafosCorrigido.shift();                        tr = document.getElementById(tableId).classList.remove('table-danger');                        tr = document.getElementById(tableId).classList.add('table-success');                        document.getElementById(tableId).children[0].children[0].children[0].checked = true;                    }                    if (classe == 'table-warning') {                        numeroCorrecoes = document.getElementById(paragrafosCorrigido[0]).children[8].innerText;                        numeroAvisos = document.getElementById(paragrafosCorrigido[0]).children[5].innerText;                        numeroCorrecoes++;                        numeroAvisos--;                        document.getElementById(paragrafosCorrigido[0]).children[8].innerText = numeroCorrecoes;                        document.getElementById(paragrafosCorrigido[0]).children[5].innerText = numeroAvisos;                        registrosCorrigidos.push(tableId);                        paragrafosCorrigidos.push(paragrafosCorrigido[0]);                        paragrafosCorrigido.shift();                        tr = document.getElementById(tableId).classList.remove('table-warning');                        tr = document.getElementById(tableId).classList.add('table-success');                        document.getElementById(tableId).children[0].children[0].children[0].checked = true;                    }                });            }        }    }function acaoMostrarEsconder(buttonId){buttonId = `#${buttonId}`;var tabelasCorrigidas = document.querySelector(\".table-success\");var button = document.querySelector(buttonId);var display = tabelasCorrigidas.style.display;if(display === \"\"){button.innerText = \"MOSTRAR RESOLVIDOS\";escondeResolvidos();}else{button.innerText = \"ESCONDER RESOLVIDOS\";mostraResolvidos();}}function escondeResolvidos() {var corrigidos = document.getElementsByClassName(\"table-success\");for (var i = 0; i < corrigidos.length; i++) {corrigidos[i].style.display = \"none\";}}function mostraResolvidos() {var corrigidos = document.getElementsByClassName(\"table-success\");for (var i = 0; i < corrigidos.length; i++) {corrigidos[i].style.display = \"\";}}$(document).ready(function() {getDadosLocalStorage();$(\"body\").popover({template: '<div class=\"popover med-popover left in\" role=\"tooltip\"><div class=\"arrow\"></div><div class=\"popover-content\"></div></div>',container: \"body\",trigger: \"manual\",placement: \"left\",selector: \"[data-toggle=popover]\"});$(\"[data-toggle=popover]\").on(\"click\", function () {$(this).popover(\"toggle\");});});function marcaResolvido(idTable, paragrafoId) {primeiroErro  = true;primeiroAviso = true;numeroCorrecoes = document.getElementById(paragrafoId).children[8].innerText;        classe = document.getElementById(idTable).getAttribute(\"class\");        if (classe === \"table-danger\") {            tr = document.getElementById(idTable).classList.remove('table-danger');            tr = document.getElementById(idTable).classList.add('table-success');            numeroCorrecoes++;            numeroErros = document.getElementById(paragrafoId).children[2].innerText;            numeroErros--;            document.getElementById(paragrafoId).children[2].innerText = numeroErros;            document.getElementById(paragrafoId).children[8].innerText = numeroCorrecoes;            registrosCorrigidos.push(idTable);            paragrafosCorrigidos.push(paragrafoId);            atualizaDadosCorrecao(registrosCorrigidos,paragrafosCorrigidos);        }        if (classe === \"table-warning\") {            tr = document.getElementById(idTable).classList.remove('table-warning');            tr = document.getElementById(idTable).classList.add('table-success');            numeroCorrecoes++;            numeroAvisos = document.getElementById(paragrafoId).children[5].innerText;            numeroAvisos--;            document.getElementById(paragrafoId).children[5].innerText = numeroAvisos;            document.getElementById(paragrafoId).children[8].innerText = numeroCorrecoes;            registrosCorrigidos.push(idTable);            paragrafosCorrigidos.push(paragrafoId);            atualizaDadosCorrecao(registrosCorrigidos,paragrafosCorrigidos);        }        if (classe === \"table-success\") {            tr = document.getElementById(idTable);            td = tr.getElementsByTagName(\"td\");            var tipoMsg = td[2].innerText;            if (tipoMsg === \"Aviso\") {                tr = document.getElementById(idTable).classList.remove('table-success');                tr = document.getElementById(idTable).classList.add('table-warning');                numeroCorrecoes--;                numeroAvisos = document.getElementById(paragrafoId).children[5].innerText;                numeroAvisos++;                document.getElementById(paragrafoId).children[5].innerText = numeroAvisos;                document.getElementById(paragrafoId).children[8].innerText = numeroCorrecoes;                for (var i = 0; i < registrosCorrigidos.length; i++) {                    if (registrosCorrigidos[i] === idTable) {                        registrosCorrigidos.splice(i, 1);                    }                }                for (var i = 0; i < paragrafosCorrigidos.length; i++) {                    if (paragrafosCorrigidos[i] === paragrafoId) {\t\t\t\t\t   if(primeiroAviso){                         paragrafosCorrigidos.splice(i, 1);\t\t\t\t\t\t  primeiroAviso = false;                      }                   }                }                atualizaDadosCorrecao(registrosCorrigidos,paragrafosCorrigidos);            } else {                tr = document.getElementById(idTable).classList.remove('table-success');                tr = document.getElementById(idTable).classList.add('table-danger');                numeroCorrecoes--;                numeroErros = document.getElementById(paragrafoId).children[2].innerText;                numeroErros++;                document.getElementById(paragrafoId).children[2].innerText = numeroErros;                document.getElementById(paragrafoId).children[8].innerText = numeroCorrecoes;                for (var i = 0; i < registrosCorrigidos.length; i++) {                    if (registrosCorrigidos[i] === idTable) {                        registrosCorrigidos.splice(i, 1);                    }                }                for (var i = 0; i < paragrafosCorrigidos.length; i++) {                    if (paragrafosCorrigidos[i] === paragrafoId) {\t\t\t\t\t\tif(primeiroErro){                        \tparagrafosCorrigidos.splice(i, 1);\t\t\t\t\t\t \tprimeiroErro = false;                    \t}                    }                }                atualizaDadosCorrecao(registrosCorrigidos,paragrafosCorrigidos);            }        }    }function acaoCheckBoxHeader(sectionId, idCheckBoxHeader) {tipoAcao = document.querySelector(`#${idCheckBoxHeader}`).children[0].getAttribute(\"class\");if(tipoAcao === 'fas fa-check-double'){marcarDesmarcarCheck(sectionId,true);document.querySelector(`#${idCheckBoxHeader}`).children[0].className = 'fas fa-times';}if(tipoAcao === 'fas fa-times'){marcarDesmarcarCheck(sectionId,false);document.querySelector(`#${idCheckBoxHeader}`).children[0].className = 'fas fa-check-double';}}function marcarDesmarcarCheck(sectionId, acao) {query = `#${sectionId}`;section = document.querySelector(query);checkboxes = section.querySelectorAll(\".bth-checkbox\");paragrafoId = section.children[3].id;tables = section.querySelectorAll('.table');for (var i = 0; i < tables.length; i++) {var tbody = tables[i].children[1];for (var j = 0; j < tbody.children.length; j++) {if(acao){tipoMsg = tbody.children[j].children[2].innerText;if(tbody.children[j].className === 'table-success'){numeroCorrecoes--;document.getElementById(paragrafoId).children[8].innerText = numeroCorrecoes;if(tipoMsg === \"Erro\"){numeroErros++;document.getElementById(paragrafoId).children[2].innerText = numeroErros;}else{numeroAvisos++;document.getElementById(paragrafoId).children[5].innerText = numeroAvisos;}}if(tipoMsg === \"Erro\"){tbody.children[j].className = \"table-danger\";tbody.children[j].children[0].children[0].children[0].checked = false;}else{tbody.children[j].className = \"table-warning\";tbody.children[j].children[0].children[0].children[0].checked = false;}trId = tbody.children[j].id;marcaResolvido(trId,paragrafoId);}else{if(tbody.children[j].className === 'table-danger'){numeroErros--;numeroCorrecoes++;document.getElementById(paragrafoId).children[8].innerText = numeroCorrecoes;document.getElementById(paragrafoId).children[2].innerText = numeroErros;}if(tbody.children[j].className === 'table-warning'){numeroAvisos--;numeroCorrecoes++;document.getElementById(paragrafoId).children[8].innerText = numeroCorrecoes;document.getElementById(paragrafoId).children[5].innerText = numeroAvisos;}tbody.children[j].className = \"table-success\";for (var i = 0; i < checkboxes.length; i++) {checkboxes[i].children[0].checked = acao;}numeroCorrecoes--;trId = tbody.children[j].id;marcaResolvido(trId,paragrafoId);}}}if(acao){for (var i = 0; i < checkboxes.length; i++) {checkboxes[i].children[0].checked = acao;}}}</script><body><div style=\"display: none;\" class=\"uuid\">33fca2c4-a352-11e9-a2a3-2a2ae2dbcce4\r\n</div><div style=\"display: none;\" class=\"dataGeracao\">10-07-2019 17:35:06</div><div style=\"display: none;\" class=\"parametrosBanco\">Entidade_PM QUATRO PONTES - FL CURITIBA - PILOTOAno_2018TipoEnvio_MENSALOpcoes_1Mes_1Assunto_[MovimentoRealizavel, Convenio]</div><div style=\"display: none;\" class=\"idEntidade\">3606</div><div id=\"modal1\" data-bf-loading-type=\"dialog\" class=\"modal fade in\" style=\"display: none; z-index: 1070;\"><div class=\"modal-dialog\" role=\"document\"><div class=\"modal-content modal-content__sidebar\"><div class=\"modal-header\"><h5 class=\"modal-title\">Parâmetros da execução</h5></button></div><div class=\"modal-body modal-run\"><table class=\"table table-unfixed table-unstriped\"><thead><tr><th>Parâmetro</th><th>Valor</th></tr></thead><tbody><tr><td>Entidade</td><td>PM QUATRO PONTES - FL CURITIBA - PILOTO</td></tr><tr><td>Exercício</td><td>2018</td></tr><tr><td>Tipo de envio</td><td>MENSAL</td></tr><tr><td>Opção de geração</td><td>1</td></tr><tr><td>Mês</td><td>1</td></tr><tr><td>Assunto(s)</td><td>[MovimentoRealizavel, Convenio]</td></tr></tbody></table> </div><div class=\"modal-footer\"><button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\" onclick=\"escondeModalParametros('modal1')\">Fechar</button></div></div></div></div><div class=\"container container-fluid\"><div ui-view=\"header\" class=\"ng-scope\" style=\"\"><header class=\"ng-scope\"><div id=\"header\" class=\"megamenu-container\"><div class=\"container iv\"><ul class=\"megamenu\"><li class=\"menu-static\"><a href=\"#\" class=\"drop\"><div class=\"bth-logo bth-logo--brand-blue\"><div class=\"bth-logo__image\"></div></div><span class=\"megamenu-title\">Relatório de Pré-Validações</span></a></li></ul></div></div></header></div><div class=\"bth-card\"><div class=\"bth-card__header\"><div class=\"row\"><div class=\"col-md-12\"><div class=\"bth-card bth-card--filled\"><div class=\"bth-card__body\"><div class=\"row row-flex bottom\"><div class=\"col-md-1 text-center\"><a target=\"_blank\" href=\"http://www.betha.com.br/\"><img src=\"https://i.ibb.co/TWSgZX4/logo-share-square.png\" alt=\"logo-share-square\" border=\"0\" style=\"height: 10vh;\"></a></div><div class=\"col-md-6\" style=\"border-left: 1px solid #E1E3E6;padding-left: 15px;\"><label style=\"font-size: 14px\">Entidade</label><h2 class=\"top ng-binding\">PM QUATRO PONTES - FL CURITIBA - PILOTO</h2></div><div class=\"col-md-3\" style=\"border-left: 1px solid #E1E3E6;padding-left: 15px;\"><label style=\"font-size: 14px\">Ano</label><h2 class=\"top ng-binding\">2019</h2></div><div class=\"col-md-2 text-right\"><button class=\"btn btn-default btn-sm\" onclick=\"mostraModalParametros('modal1')\"><i class=\"fas fa-cogs\"></i> Parâmetros</button></div></div></div></div></div></div></div><div class=\"bth-card__body\"><div><p style=\"font-size: 70%;\" ><i class=\"fas fa-info-circle\"></i>  Para acesso a todas as funcionalidades do arquivo, recomendamos a utilização dos navegadores <em>Google Chrome</em> e <em>Firefox</em>.</p><p style=\"font-size: 70%;\" ><i class=\"fas fa-info-circle\"></i> Para que o <em>Link</em> tenha funcionamento adequado, abra este arquivo no mesmo navegador do sistema.</p></div><div class=\"tabset\"><input onclick=\"atualizaGraficoStacked()\" type=\"radio\" name=\"tabset\" id=\"Dashboard\" aria-controls=\"Dashboard\"><label style=\"font-size: 15px;\" for=\"Dashboard\">Dashboard</label><input type=\"radio\" name=\"tabset\" id=\"Todos\" aria-controls=\"Todos\" checked><label style=\"font-size: 15px;\" for=\"Todos\">Todos</label><input type=\"radio\" name=\"tabset\" id=\"MovimentoRealizavel\" aria-controls=\"MovimentoRealizavel\"><label style=\"font-size: 15px;\" for=\"MovimentoRealizavel\">MovimentoRealizavel</label><input type=\"radio\" name=\"tabset\" id=\"Convênios\" aria-controls=\"Convênios\"><label style=\"font-size: 15px;\" for=\"Convênios\">Convênios</label><div class =\"tab-panels\"><section id=\"Dashboard0\" class=\"tab-panel\">\t<div class=\"container container-fluid\">\t\t<h2 id=\"header\">\t\t\t<strong>Pré-Validações</strong>\t\t\t<small class=\"text-muted\">1 - 2018</small>\t\t</h2><div class=\"row m-b-3\">\t<div class=\"col-xs-3\">\t\t<div class=\"bth-card bth-card--filled\">\t\t\t<div class=\"bth-card__body\">\t\t\t\t<div class=\"col-xs-12\">\t\t\t\t\t<h4 style=\"text-align: center;\"><i style=\"padding-right: 15%;color: #ef1f41;\" class=\"fas fa-exclamation-triangle\"></i>Total de erros:<h1 class=\"ErrosCardDashboard\" style=\"text-align: center;\">12345</h1></h4>\t\t\t\t</div>\t\t\t</div>\t\t</div>   \t</div>\t<div class=\"col-xs-3\">\t\t<div class=\"bth-card bth-card--filled\">\t\t\t<div class=\"bth-card__body\">\t\t\t\t<div class=\"col-xs-12\">\t\t\t\t\t<h4 style=\"text-align: center;\"><i style=\"padding-right: 15%;color: #deea00;\" class=\"fas fa-exclamation-circle\"></i>Total de avisos:<h1 class=\"AvisosCardDashboard\" style=\"text-align: center;\">12345</h1></h4>\t\t\t\t</div>\t\t\t</div>\t\t</div>   \t</div>\t<div class=\"col-xs-3\">\t\t<div class=\"bth-card bth-card--filled\">\t\t\t<div class=\"bth-card__body\">\t\t\t\t<div class=\"col-xs-12\">\t\t\t\t\t<h4 style=\"text-align: center;\"><i style=\"padding-right: 15%;color: #04ce40;\" class=\"fas fa-check-circle\"></i>Correções:<h1 class=\"CorrecoesCardDashboard\" style=\"text-align: center;\">12</h1></h4>\t\t\t\t</div>\t\t\t</div>\t\t</div>   \t</div>\t<div class=\"col-xs-3\">\t\t<div class=\"bth-card bth-card--filled\">\t\t\t<div class=\"bth-card__body\">\t\t\t\t<div class=\"col-xs-12\">\t\t\t\t\t<h4 style=\"text-align: center;\"><i style=\"padding-right: 15%;color: #37474F;\" class=\"far fa-hourglass\"></i>Última execução:<h1 class=\"UltimaExecCardDashboard\" style=\"text-align: center;\">21/05/2019</h1></h4>\t\t\t\t</div>\t\t\t</div>\t\t</div>\t</div></div><div class=\"row m-b-10\">\t<div class=\"col-xs-12\">\t\t<div class=\"card shadow\">\t\t\t<h4 class=\"card-header\">Totais por arquivo</h4>\t\t\t<div class=\"card-block\">\t\t\t\t<div id=\"chartContainer\"></div>\t\t\t</div>\t\t</div>\t</div></div>\t\t<div class=\"row m-b-1\">\t\t\t<div class=\"col-lg-6\">\t\t\t\t<div class=\"card shadow\">\t\t\t\t\t<h4 class=\"card-header\">Erros por arquivo</h4>\t\t\t\t\t<div class=\"card-block\">\t\t\t\t\t\t<div id=\"products-revenue-pie-chart\"></div>\t\t\t\t\t</div>\t\t\t\t</div>\t\t\t</div>\t\t\t<div class=\"col-lg-6\">\t\t\t\t<div class=\"card shadow\">\t\t\t\t\t<h4 class=\"card-header\">Avisos por arquivo</h4>\t\t\t\t\t<div class=\"card-block\">\t\t\t\t\t\t<div id=\"graficoAvisosArquivo\"></div>\t\t\t\t\t</div>\t\t\t\t</div>\t\t\t</div>\t\t</div><div class=\"row m-b-1\">\t<div class=\"col-lg-12\">\t\t<div class=\"card shadow\">\t\t\t<h4 class=\"card-header\">Evolução das inconsistências por data</h4>\t\t\t<div class=\"card-block\">\t\t\t\t<div id=\"graficoEvolucaoInconsistencias\"></div>\t\t\t</div>\t\t</div>\t</div></div>\t</div></section><section id=\"Todos0\" class=\"tab-panel\"><button class=\"btn btn-default btn-sm\" id=\"btnGeraCSV01\" onclick=\"geraRelCSV()\"><i class=\"fas fa-download\"></i> Exportar para CSV</button><h2>MovimentoRealizavel</h2><p>Verifique atentamente as validações informadas abaixo:</p><p style=\"font-size:85%\" id =\"p0\"><i class=\"fas fa-exclamation-triangle\"></i><h7>&nbspErros:</h7><h7 id=\"qtdErro0\">&nbsp1</h7>&nbsp<i class=\"fas fa-exclamation-circle\"></i><h7>&nbspAvisos:</h7><h7 id=\"qtdAviso0\">&nbsp0</h7>&nbsp</p><table class=\"table table-unfixed table-unstriped\" id=\"table\"><thead><tr><th class=\"col-fit\">Sistema</th><th class=\"col-fit\">Tipo</th><th class=\"col-fit\">Descrição</th><th class=\"col-fit\"> Solução</th><th class=\"col-fit\"> Link</th></tr></thead><tbody><tr class=\"table-danger\" id=\"tr0\"><td>Contábil</td><td>Erro</td><td>A arrecadação extraorcamentaria na conta '1131101000000000000000000', realizada no dia '2018-01-20', com valor de R$: 30.00 não possui credor cadastrado</td><td><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"popover\" data-trigger=\"focus\" data-placement=\"left\" title=\"Solução\" data-content=\"Cadastrar o credor para a arrecadação mencionada\"><i class=\"fas fa-question\"></i></button></td><td><a><button type=\"button\" class=\"btn btn-default btn-sm disabled\" data-toggle=\"popover\" data-placement=\"left\" data-trigger=\"focus\" title=\"\" data-content=\"\" disabled><i class=\"fas fa-link\"></i></button></a></td></tbody></table><h2>Convênios</h2><p>Verifique atentamente as validações informadas abaixo:</p><p style=\"font-size:85%\" id =\"p1\"><i class=\"fas fa-exclamation-triangle\"></i><h7>&nbspErros:</h7><h7 id=\"qtdErro1\">&nbsp13</h7>&nbsp<i class=\"fas fa-exclamation-circle\"></i><h7>&nbspAvisos:</h7><h7 id=\"qtdAviso1\">&nbsp0</h7>&nbsp</p><table class=\"table table-unfixed table-unstriped\" id=\"table\"><thead><tr><th class=\"col-fit\">Sistema</th><th class=\"col-fit\">Tipo</th><th class=\"col-fit\">Descrição</th><th class=\"col-fit\"> Solução</th><th class=\"col-fit\"> Link</th></tr></thead><tbody><tr class=\"table-danger\" id=\"tr1\"><td>Convênios</td><td>Erro</td><td>O convênio recebido 10/2018 não possui data de assinatura informada.</td><td><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"popover\" data-trigger=\"focus\" data-placement=\"left\" title=\"Solução\" data-content=\"Acessar o cadastro de convênios recebidos (Executando >> Convênios >> Recebidos) e informar uma data de assinatura valida.\"><i class=\"fas fa-question\"></i></button></td><td><a target=\"_blank\" href=\"https://convenios.cloud.betha.com.br/#/entidades/ZGF0YWJhc2U6MzUyMSxlbnRpdHk6MzYwNg==/cadastros/convenios-recebidos\"><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"popover\" data-trigger=\"focus\" title=\"Clique para acessar o sistema\" data-content=\"\"><i class=\"fas fa-link\"></i></button></a></td><tr class=\"table-danger\" id=\"tr2\"><td>Convênios</td><td>Erro</td><td>O convênio recebido 321652 não possui seu código de controle informado na aba Campos Adicionais.</td><td><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"popover\" data-trigger=\"focus\" data-placement=\"left\" title=\"Solução\" data-content=\"Acessar o cadastro de convênios recebidos (Executando >> Convênios >> Recebidos >> Campos Adicionais) e informar o código de controle do convênio.\"><i class=\"fas fa-question\"></i></button></td><td><a target=\"_blank\" href=\"https://convenios.cloud.betha.com.br/#/entidades/ZGF0YWJhc2U6MzUyMSxlbnRpdHk6MzYwNg==/cadastros/convenios-recebidos\"><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"popover\" data-trigger=\"focus\" title=\"Clique para acessar o sistema\" data-content=\"\"><i class=\"fas fa-link\"></i></button></a></td><tr class=\"table-danger\" id=\"tr3\"><td>Convênios</td><td>Erro</td><td>O convênio recebido 321652 não possui data de assinatura informada.</td><td><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"popover\" data-trigger=\"focus\" data-placement=\"left\" title=\"Solução\" data-content=\"Acessar o cadastro de convênios recebidos (Executando >> Convênios >> Recebidos) e informar uma data de assinatura valida.\"><i class=\"fas fa-question\"></i></button></td><td><a target=\"_blank\" href=\"https://convenios.cloud.betha.com.br/#/entidades/ZGF0YWJhc2U6MzUyMSxlbnRpdHk6MzYwNg==/cadastros/convenios-recebidos\"><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"popover\" data-trigger=\"focus\" title=\"Clique para acessar o sistema\" data-content=\"\"><i class=\"fas fa-link\"></i></button></a></td><tr class=\"table-danger\" id=\"tr4\"><td>Convênios</td><td>Erro</td><td>O convênio recebido 789 não possui seu código de controle informado na aba Campos Adicionais.</td><td><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"popover\" data-trigger=\"focus\" data-placement=\"left\" title=\"Solução\" data-content=\"Acessar o cadastro de convênios recebidos (Executando >> Convênios >> Recebidos >> Campos Adicionais) e informar o código de controle do convênio.\"><i class=\"fas fa-question\"></i></button></td><td><a target=\"_blank\" href=\"https://convenios.cloud.betha.com.br/#/entidades/ZGF0YWJhc2U6MzUyMSxlbnRpdHk6MzYwNg==/cadastros/convenios-recebidos\"><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"popover\" data-trigger=\"focus\" title=\"Clique para acessar o sistema\" data-content=\"\"><i class=\"fas fa-link\"></i></button></a></td><tr class=\"table-danger\" id=\"tr5\"><td>Convênios</td><td>Erro</td><td>O convênio recebido 789 não possui data de assinatura informada.</td><td><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"popover\" data-trigger=\"focus\" data-placement=\"left\" title=\"Solução\" data-content=\"Acessar o cadastro de convênios recebidos (Executando >> Convênios >> Recebidos) e informar uma data de assinatura valida.\"><i class=\"fas fa-question\"></i></button></td><td><a target=\"_blank\" href=\"https://convenios.cloud.betha.com.br/#/entidades/ZGF0YWJhc2U6MzUyMSxlbnRpdHk6MzYwNg==/cadastros/convenios-recebidos\"><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"popover\" data-trigger=\"focus\" title=\"Clique para acessar o sistema\" data-content=\"\"><i class=\"fas fa-link\"></i></button></a></td><tr class=\"table-danger\" id=\"tr6\"><td>Convênios</td><td>Erro</td><td>O convênio recebido 8 não possui seu código de controle informado na aba Campos Adicionais.</td><td><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"popover\" data-trigger=\"focus\" data-placement=\"left\" title=\"Solução\" data-content=\"Acessar o cadastro de convênios recebidos (Executando >> Convênios >> Recebidos >> Campos Adicionais) e informar o código de controle do convênio.\"><i class=\"fas fa-question\"></i></button></td><td><a target=\"_blank\" href=\"https://convenios.cloud.betha.com.br/#/entidades/ZGF0YWJhc2U6MzUyMSxlbnRpdHk6MzYwNg==/cadastros/convenios-recebidos\"><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"popover\" data-trigger=\"focus\" title=\"Clique para acessar o sistema\" data-content=\"\"><i class=\"fas fa-link\"></i></button></a></td><tr class=\"table-danger\" id=\"tr7\"><td>Convênios</td><td>Erro</td><td>O convênio recebido 8 não possui data de assinatura informada.</td><td><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"popover\" data-trigger=\"focus\" data-placement=\"left\" title=\"Solução\" data-content=\"Acessar o cadastro de convênios recebidos (Executando >> Convênios >> Recebidos) e informar uma data de assinatura valida.\"><i class=\"fas fa-question\"></i></button></td><td><a target=\"_blank\" href=\"https://convenios.cloud.betha.com.br/#/entidades/ZGF0YWJhc2U6MzUyMSxlbnRpdHk6MzYwNg==/cadastros/convenios-recebidos\"><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"popover\" data-trigger=\"focus\" title=\"Clique para acessar o sistema\" data-content=\"\"><i class=\"fas fa-link\"></i></button></a></td><tr class=\"table-danger\" id=\"tr8\"><td>Convênios</td><td>Erro</td><td>O convênio repassado 12 não possui seu código de controle informado na aba Campos Adicionais.</td><td><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"popover\" data-trigger=\"focus\" data-placement=\"left\" title=\"Solução\" data-content=\"Acessar o cadastro de convênios repassados (Executando >> Convênios >> Repassados >> Campos Adicionais) e informar o código de controle do convênio.\"><i class=\"fas fa-question\"></i></button></td><td><a target=\"_blank\" href=\"https://convenios.cloud.betha.com.br/#/entidades/ZGF0YWJhc2U6MzUyMSxlbnRpdHk6MzYwNg==/cadastros/convenios-repassados/formalizacaoExecucao\"><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"popover\" data-trigger=\"focus\" title=\"Clique para acessar o sistema\" data-content=\"\"><i class=\"fas fa-link\"></i></button></a></td><tr class=\"table-danger\" id=\"tr9\"><td>Convênios</td><td>Erro</td><td>O convênio repassado 14 não possui seu código de controle informado na aba Campos Adicionais.</td><td><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"popover\" data-trigger=\"focus\" data-placement=\"left\" title=\"Solução\" data-content=\"Acessar o cadastro de convênios repassados (Executando >> Convênios >> Repassados >> Campos Adicionais) e informar o código de controle do convênio.\"><i class=\"fas fa-question\"></i></button></td><td><a target=\"_blank\" href=\"https://convenios.cloud.betha.com.br/#/entidades/ZGF0YWJhc2U6MzUyMSxlbnRpdHk6MzYwNg==/cadastros/convenios-repassados/formalizacaoExecucao\"><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"popover\" data-trigger=\"focus\" title=\"Clique para acessar o sistema\" data-content=\"\"><i class=\"fas fa-link\"></i></button></a></td><tr class=\"table-danger\" id=\"tr10\"><td>Convênios</td><td>Erro</td><td>O convênio repassado 14 não possui data de assinatura informada.</td><td><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"popover\" data-trigger=\"focus\" data-placement=\"left\" title=\"Solução\" data-content=\"Acessar o cadastro de convênios repassados (Executando >> Convênios >> Repassados) e informar uma data de assinatura valida.\"><i class=\"fas fa-question\"></i></button></td><td><a target=\"_blank\" href=\"https://convenios.cloud.betha.com.br/#/entidades/ZGF0YWJhc2U6MzUyMSxlbnRpdHk6MzYwNg==/cadastros/convenios-repassados/formalizacaoExecucao\"><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"popover\" data-trigger=\"focus\" title=\"Clique para acessar o sistema\" data-content=\"\"><i class=\"fas fa-link\"></i></button></a></td><tr class=\"table-danger\" id=\"tr11\"><td>Convênios</td><td>Erro</td><td>O convênio repassado 987419999999999999999999898954 possui mais de 9 dígitos.</td><td><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"popover\" data-trigger=\"focus\" data-placement=\"left\" title=\"Solução\" data-content=\"Acessar o cadastro de convênios repassados (Executando >> Convênios >> Repassados) e alterar o número do convênio para no máximo 9 dígitos (desconsiderando caracteres especiais).\"><i class=\"fas fa-question\"></i></button></td><td><a target=\"_blank\" href=\"https://convenios.cloud.betha.com.br/#/entidades/ZGF0YWJhc2U6MzUyMSxlbnRpdHk6MzYwNg==/cadastros/convenios-repassados/formalizacaoExecucao\"><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"popover\" data-trigger=\"focus\" title=\"Clique para acessar o sistema\" data-content=\"\"><i class=\"fas fa-link\"></i></button></a></td><tr class=\"table-danger\" id=\"tr12\"><td>Convênios</td><td>Erro</td><td>O convênio repassado 987419999999999999999999898954 não possui data de assinatura informada.</td><td><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"popover\" data-trigger=\"focus\" data-placement=\"left\" title=\"Solução\" data-content=\"Acessar o cadastro de convênios repassados (Executando >> Convênios >> Repassados) e informar uma data de assinatura valida.\"><i class=\"fas fa-question\"></i></button></td><td><a target=\"_blank\" href=\"https://convenios.cloud.betha.com.br/#/entidades/ZGF0YWJhc2U6MzUyMSxlbnRpdHk6MzYwNg==/cadastros/convenios-repassados/formalizacaoExecucao\"><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"popover\" data-trigger=\"focus\" title=\"Clique para acessar o sistema\" data-content=\"\"><i class=\"fas fa-link\"></i></button></a></td><tr class=\"table-danger\" id=\"tr13\"><td>Convênios</td><td>Erro</td><td>O Código SIT 10, está presente em mais de um Convênio recebido/repassado. </br>Conforme relação de convênios abaixo: </br><u>Convênio(s) recebido(s):</u> 789, 321652</br><u>Convênio(s) repassado(s):</u> 1</td><td><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"popover\" data-trigger=\"focus\" data-placement=\"left\" title=\"Solução\" data-content=\"Acessar o cadastro dos convênios citados (Executando >> Convênios >> Recebidos/Repassados) e ajustar a informação preenchida no campo Código SIT, de forma que o mesmo Código SIT não esteja presente em mais de um convênio recebido/repassado.\"><i class=\"fas fa-question\"></i></button></td><td><a><button type=\"button\" class=\"btn btn-default btn-sm disabled\" data-toggle=\"popover\" data-placement=\"left\" data-trigger=\"focus\" title=\"\" data-content=\"\" disabled><i class=\"fas fa-link\"></i></button></a></td></tbody></table></section><section id=\"MovimentoRealizavel1\" class=\"tab-panel\"><button id=\"btnShow0\" type=\"button\" class=\"btn btn-default btn-sm\" onclick=\"acaoMostrarEsconder('btnShow0')\">Esconder resolvidos</button><h2>MovimentoRealizavel</h2><p>Verifique atentamente as validações informadas abaixo:</p><p style=\"font-size:85%\" id =\"p2\"><i class=\"fas fa-exclamation-triangle\"></i><h7>&nbspErros:</h7><h7 id=\"qtdErro14\">1&nbsp</h7>&nbsp<i class=\"fas fa-exclamation-circle\"></i><h7>&nbspAvisos:</h7><h7 id=\"qtdAviso14\">0&nbsp</h7>&nbsp<i class=\"fas fa-check-circle\"></i><h7>&nbspCorreções:</h7><h7 id=\"qtdCorrecao&nbsp0\">0<h7></p><br><div class=\"input-group open\"><input class=\"form-control input-sm search-field\" type=\"text\" id=\"200\" onkeyup='searchTableTodos(\"0\",\"200\")' placeholder=\"Pesquisar\"><div class=\"input-group-btn\"><button type=\"button\" class=\"btn btn-default btn-sm\" title=\"Pesquisar\"><i class=\"fa fa-search\"></i></button></div></div><br><table class=\"table table-unfixed table-unstriped\" id=\"0\"><thead><tr><th class=\"col-fit\"><a type=\"button\" class=\"btn btn-default btn-xs\" id=\"chboxMovimentoRealizavel\" onclick=\"acaoCheckBoxHeader('MovimentoRealizavel1','chboxMovimentoRealizavel')\" style=\"\"><i class=\"fas fa-check-double\"></i></a></th><th>Sistema</th><th>Tipo</th><th>Descrição</th><th class=\"col-fit\"> Solução</th><th class=\"col-fit\"> Link</th></tr></thead><tbody><tr class=\"table-danger\" id=\"tr14\"><td><div class=\"bth-checkbox\"><input id=\"chbox14\" type=\"checkbox\" class=\"ng-pristine ng-valid ng-touched\" style=\"\" onclick=\"marcaResolvido('tr14','p2')\"><label for=\"chbox14\"></label></div></td><td>Contábil</td><td>Erro</td><td>A arrecadação extraorcamentaria na conta '1131101000000000000000000', realizada no dia '2018-01-20', com valor de R$: 30.00 não possui credor cadastrado</td><td><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"popover\" data-placement=\"left\" data-trigger=\"focus\" title=\"Solução\" data-content=\"Cadastrar o credor para a arrecadação mencionada\"><i class=\"fas fa-question\"></i></button></td><td><a><button type=\"button\" class=\"btn btn-default btn-sm disabled\" data-toggle=\"tooltip\" data-trigger=\"focus\" title=\"\" data-content=\"\" disabled><i class=\"fas fa-link\"></i></button></a></td></tbody></table></section><section id=\"Convênios2\" class=\"tab-panel\"><button id=\"btnShow1\" type=\"button\" class=\"btn btn-default btn-sm\" onclick=\"acaoMostrarEsconder('btnShow1')\">Esconder resolvidos</button><h2>Convênios</h2><p>Verifique atentamente as validações informadas abaixo:</p><p style=\"font-size:85%\" id =\"p3\"><i class=\"fas fa-exclamation-triangle\"></i><h7>&nbspErros:</h7><h7 id=\"qtdErro15\">13&nbsp</h7>&nbsp<i class=\"fas fa-exclamation-circle\"></i><h7>&nbspAvisos:</h7><h7 id=\"qtdAviso15\">0&nbsp</h7>&nbsp<i class=\"fas fa-check-circle\"></i><h7>&nbspCorreções:</h7><h7 id=\"qtdCorrecao&nbsp0\">0<h7></p><br><div class=\"input-group open\"><input class=\"form-control input-sm search-field\" type=\"text\" id=\"201\" onkeyup='searchTableTodos(\"1\",\"201\")' placeholder=\"Pesquisar\"><div class=\"input-group-btn\"><button type=\"button\" class=\"btn btn-default btn-sm\" title=\"Pesquisar\"><i class=\"fa fa-search\"></i></button></div></div><br><table class=\"table table-unfixed table-unstriped\" id=\"1\"><thead><tr><th class=\"col-fit\"><a type=\"button\" class=\"btn btn-default btn-xs\" id=\"chboxConvênios\" onclick=\"acaoCheckBoxHeader('Convênios2','chboxConvênios')\" style=\"\"><i class=\"fas fa-check-double\"></i></a></th><th>Sistema</th><th>Tipo</th><th>Descrição</th><th class=\"col-fit\"> Solução</th><th class=\"col-fit\"> Link</th></tr></thead><tbody><tr class=\"table-danger\" id=\"tr15\"><td><div class=\"bth-checkbox\"><input id=\"chbox15\" type=\"checkbox\" class=\"ng-pristine ng-valid ng-touched\" style=\"\" onclick=\"marcaResolvido('tr15','p3')\"><label for=\"chbox15\"></label></div></td><td>Convênios</td><td>Erro</td><td>O convênio recebido 10/2018 não possui data de assinatura informada.</td><td><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"popover\" data-placement=\"left\" data-trigger=\"focus\" title=\"Solução\" data-content=\"Acessar o cadastro de convênios recebidos (Executando >> Convênios >> Recebidos) e informar uma data de assinatura valida.\"><i class=\"fas fa-question\"></i></button></td><td><a target=\"_blank\" href=\"https://convenios.cloud.betha.com.br/#/entidades/ZGF0YWJhc2U6MzUyMSxlbnRpdHk6MzYwNg==/cadastros/convenios-recebidos\"><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"tooltip\" data-trigger=\"focus\" title=\"Clique para acessar o sistema\" data-content=\"\"><i class=\"fas fa-link\"></i></button></a></td><tr class=\"table-danger\" id=\"tr16\"><td><div class=\"bth-checkbox\"><input id=\"chbox16\" type=\"checkbox\" class=\"ng-pristine ng-valid ng-touched\" style=\"\" onclick=\"marcaResolvido('tr16','p3')\"><label for=\"chbox16\"></label></div></td><td>Convênios</td><td>Erro</td><td>O convênio recebido 321652 não possui seu código de controle informado na aba Campos Adicionais.</td><td><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"popover\" data-placement=\"left\" data-trigger=\"focus\" title=\"Solução\" data-content=\"Acessar o cadastro de convênios recebidos (Executando >> Convênios >> Recebidos >> Campos Adicionais) e informar o código de controle do convênio.\"><i class=\"fas fa-question\"></i></button></td><td><a target=\"_blank\" href=\"https://convenios.cloud.betha.com.br/#/entidades/ZGF0YWJhc2U6MzUyMSxlbnRpdHk6MzYwNg==/cadastros/convenios-recebidos\"><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"tooltip\" data-trigger=\"focus\" title=\"Clique para acessar o sistema\" data-content=\"\"><i class=\"fas fa-link\"></i></button></a></td><tr class=\"table-danger\" id=\"tr17\"><td><div class=\"bth-checkbox\"><input id=\"chbox17\" type=\"checkbox\" class=\"ng-pristine ng-valid ng-touched\" style=\"\" onclick=\"marcaResolvido('tr17','p3')\"><label for=\"chbox17\"></label></div></td><td>Convênios</td><td>Erro</td><td>O convênio recebido 321652 não possui data de assinatura informada.</td><td><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"popover\" data-placement=\"left\" data-trigger=\"focus\" title=\"Solução\" data-content=\"Acessar o cadastro de convênios recebidos (Executando >> Convênios >> Recebidos) e informar uma data de assinatura valida.\"><i class=\"fas fa-question\"></i></button></td><td><a target=\"_blank\" href=\"https://convenios.cloud.betha.com.br/#/entidades/ZGF0YWJhc2U6MzUyMSxlbnRpdHk6MzYwNg==/cadastros/convenios-recebidos\"><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"tooltip\" data-trigger=\"focus\" title=\"Clique para acessar o sistema\" data-content=\"\"><i class=\"fas fa-link\"></i></button></a></td><tr class=\"table-danger\" id=\"tr18\"><td><div class=\"bth-checkbox\"><input id=\"chbox18\" type=\"checkbox\" class=\"ng-pristine ng-valid ng-touched\" style=\"\" onclick=\"marcaResolvido('tr18','p3')\"><label for=\"chbox18\"></label></div></td><td>Convênios</td><td>Erro</td><td>O convênio recebido 789 não possui seu código de controle informado na aba Campos Adicionais.</td><td><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"popover\" data-placement=\"left\" data-trigger=\"focus\" title=\"Solução\" data-content=\"Acessar o cadastro de convênios recebidos (Executando >> Convênios >> Recebidos >> Campos Adicionais) e informar o código de controle do convênio.\"><i class=\"fas fa-question\"></i></button></td><td><a target=\"_blank\" href=\"https://convenios.cloud.betha.com.br/#/entidades/ZGF0YWJhc2U6MzUyMSxlbnRpdHk6MzYwNg==/cadastros/convenios-recebidos\"><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"tooltip\" data-trigger=\"focus\" title=\"Clique para acessar o sistema\" data-content=\"\"><i class=\"fas fa-link\"></i></button></a></td><tr class=\"table-danger\" id=\"tr19\"><td><div class=\"bth-checkbox\"><input id=\"chbox19\" type=\"checkbox\" class=\"ng-pristine ng-valid ng-touched\" style=\"\" onclick=\"marcaResolvido('tr19','p3')\"><label for=\"chbox19\"></label></div></td><td>Convênios</td><td>Erro</td><td>O convênio recebido 789 não possui data de assinatura informada.</td><td><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"popover\" data-placement=\"left\" data-trigger=\"focus\" title=\"Solução\" data-content=\"Acessar o cadastro de convênios recebidos (Executando >> Convênios >> Recebidos) e informar uma data de assinatura valida.\"><i class=\"fas fa-question\"></i></button></td><td><a target=\"_blank\" href=\"https://convenios.cloud.betha.com.br/#/entidades/ZGF0YWJhc2U6MzUyMSxlbnRpdHk6MzYwNg==/cadastros/convenios-recebidos\"><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"tooltip\" data-trigger=\"focus\" title=\"Clique para acessar o sistema\" data-content=\"\"><i class=\"fas fa-link\"></i></button></a></td><tr class=\"table-danger\" id=\"tr20\"><td><div class=\"bth-checkbox\"><input id=\"chbox20\" type=\"checkbox\" class=\"ng-pristine ng-valid ng-touched\" style=\"\" onclick=\"marcaResolvido('tr20','p3')\"><label for=\"chbox20\"></label></div></td><td>Convênios</td><td>Erro</td><td>O convênio recebido 8 não possui seu código de controle informado na aba Campos Adicionais.</td><td><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"popover\" data-placement=\"left\" data-trigger=\"focus\" title=\"Solução\" data-content=\"Acessar o cadastro de convênios recebidos (Executando >> Convênios >> Recebidos >> Campos Adicionais) e informar o código de controle do convênio.\"><i class=\"fas fa-question\"></i></button></td><td><a target=\"_blank\" href=\"https://convenios.cloud.betha.com.br/#/entidades/ZGF0YWJhc2U6MzUyMSxlbnRpdHk6MzYwNg==/cadastros/convenios-recebidos\"><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"tooltip\" data-trigger=\"focus\" title=\"Clique para acessar o sistema\" data-content=\"\"><i class=\"fas fa-link\"></i></button></a></td><tr class=\"table-danger\" id=\"tr21\"><td><div class=\"bth-checkbox\"><input id=\"chbox21\" type=\"checkbox\" class=\"ng-pristine ng-valid ng-touched\" style=\"\" onclick=\"marcaResolvido('tr21','p3')\"><label for=\"chbox21\"></label></div></td><td>Convênios</td><td>Erro</td><td>O convênio recebido 8 não possui data de assinatura informada.</td><td><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"popover\" data-placement=\"left\" data-trigger=\"focus\" title=\"Solução\" data-content=\"Acessar o cadastro de convênios recebidos (Executando >> Convênios >> Recebidos) e informar uma data de assinatura valida.\"><i class=\"fas fa-question\"></i></button></td><td><a target=\"_blank\" href=\"https://convenios.cloud.betha.com.br/#/entidades/ZGF0YWJhc2U6MzUyMSxlbnRpdHk6MzYwNg==/cadastros/convenios-recebidos\"><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"tooltip\" data-trigger=\"focus\" title=\"Clique para acessar o sistema\" data-content=\"\"><i class=\"fas fa-link\"></i></button></a></td><tr class=\"table-danger\" id=\"tr22\"><td><div class=\"bth-checkbox\"><input id=\"chbox22\" type=\"checkbox\" class=\"ng-pristine ng-valid ng-touched\" style=\"\" onclick=\"marcaResolvido('tr22','p3')\"><label for=\"chbox22\"></label></div></td><td>Convênios</td><td>Erro</td><td>O convênio repassado 12 não possui seu código de controle informado na aba Campos Adicionais.</td><td><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"popover\" data-placement=\"left\" data-trigger=\"focus\" title=\"Solução\" data-content=\"Acessar o cadastro de convênios repassados (Executando >> Convênios >> Repassados >> Campos Adicionais) e informar o código de controle do convênio.\"><i class=\"fas fa-question\"></i></button></td><td><a target=\"_blank\" href=\"https://convenios.cloud.betha.com.br/#/entidades/ZGF0YWJhc2U6MzUyMSxlbnRpdHk6MzYwNg==/cadastros/convenios-repassados/formalizacaoExecucao\"><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"tooltip\" data-trigger=\"focus\" title=\"Clique para acessar o sistema\" data-content=\"\"><i class=\"fas fa-link\"></i></button></a></td><tr class=\"table-danger\" id=\"tr23\"><td><div class=\"bth-checkbox\"><input id=\"chbox23\" type=\"checkbox\" class=\"ng-pristine ng-valid ng-touched\" style=\"\" onclick=\"marcaResolvido('tr23','p3')\"><label for=\"chbox23\"></label></div></td><td>Convênios</td><td>Erro</td><td>O convênio repassado 14 não possui seu código de controle informado na aba Campos Adicionais.</td><td><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"popover\" data-placement=\"left\" data-trigger=\"focus\" title=\"Solução\" data-content=\"Acessar o cadastro de convênios repassados (Executando >> Convênios >> Repassados >> Campos Adicionais) e informar o código de controle do convênio.\"><i class=\"fas fa-question\"></i></button></td><td><a target=\"_blank\" href=\"https://convenios.cloud.betha.com.br/#/entidades/ZGF0YWJhc2U6MzUyMSxlbnRpdHk6MzYwNg==/cadastros/convenios-repassados/formalizacaoExecucao\"><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"tooltip\" data-trigger=\"focus\" title=\"Clique para acessar o sistema\" data-content=\"\"><i class=\"fas fa-link\"></i></button></a></td><tr class=\"table-danger\" id=\"tr24\"><td><div class=\"bth-checkbox\"><input id=\"chbox24\" type=\"checkbox\" class=\"ng-pristine ng-valid ng-touched\" style=\"\" onclick=\"marcaResolvido('tr24','p3')\"><label for=\"chbox24\"></label></div></td><td>Convênios</td><td>Erro</td><td>O convênio repassado 14 não possui data de assinatura informada.</td><td><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"popover\" data-placement=\"left\" data-trigger=\"focus\" title=\"Solução\" data-content=\"Acessar o cadastro de convênios repassados (Executando >> Convênios >> Repassados) e informar uma data de assinatura valida.\"><i class=\"fas fa-question\"></i></button></td><td><a target=\"_blank\" href=\"https://convenios.cloud.betha.com.br/#/entidades/ZGF0YWJhc2U6MzUyMSxlbnRpdHk6MzYwNg==/cadastros/convenios-repassados/formalizacaoExecucao\"><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"tooltip\" data-trigger=\"focus\" title=\"Clique para acessar o sistema\" data-content=\"\"><i class=\"fas fa-link\"></i></button></a></td><tr class=\"table-danger\" id=\"tr25\"><td><div class=\"bth-checkbox\"><input id=\"chbox25\" type=\"checkbox\" class=\"ng-pristine ng-valid ng-touched\" style=\"\" onclick=\"marcaResolvido('tr25','p3')\"><label for=\"chbox25\"></label></div></td><td>Convênios</td><td>Erro</td><td>O convênio repassado 987419999999999999999999898954 possui mais de 9 dígitos.</td><td><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"popover\" data-placement=\"left\" data-trigger=\"focus\" title=\"Solução\" data-content=\"Acessar o cadastro de convênios repassados (Executando >> Convênios >> Repassados) e alterar o número do convênio para no máximo 9 dígitos (desconsiderando caracteres especiais).\"><i class=\"fas fa-question\"></i></button></td><td><a target=\"_blank\" href=\"https://convenios.cloud.betha.com.br/#/entidades/ZGF0YWJhc2U6MzUyMSxlbnRpdHk6MzYwNg==/cadastros/convenios-repassados/formalizacaoExecucao\"><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"tooltip\" data-trigger=\"focus\" title=\"Clique para acessar o sistema\" data-content=\"\"><i class=\"fas fa-link\"></i></button></a></td><tr class=\"table-danger\" id=\"tr26\"><td><div class=\"bth-checkbox\"><input id=\"chbox26\" type=\"checkbox\" class=\"ng-pristine ng-valid ng-touched\" style=\"\" onclick=\"marcaResolvido('tr26','p3')\"><label for=\"chbox26\"></label></div></td><td>Convênios</td><td>Erro</td><td>O convênio repassado 987419999999999999999999898954 não possui data de assinatura informada.</td><td><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"popover\" data-placement=\"left\" data-trigger=\"focus\" title=\"Solução\" data-content=\"Acessar o cadastro de convênios repassados (Executando >> Convênios >> Repassados) e informar uma data de assinatura valida.\"><i class=\"fas fa-question\"></i></button></td><td><a target=\"_blank\" href=\"https://convenios.cloud.betha.com.br/#/entidades/ZGF0YWJhc2U6MzUyMSxlbnRpdHk6MzYwNg==/cadastros/convenios-repassados/formalizacaoExecucao\"><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"tooltip\" data-trigger=\"focus\" title=\"Clique para acessar o sistema\" data-content=\"\"><i class=\"fas fa-link\"></i></button></a></td><tr class=\"table-danger\" id=\"tr27\"><td><div class=\"bth-checkbox\"><input id=\"chbox27\" type=\"checkbox\" class=\"ng-pristine ng-valid ng-touched\" style=\"\" onclick=\"marcaResolvido('tr27','p3')\"><label for=\"chbox27\"></label></div></td><td>Convênios</td><td>Erro</td><td>O Código SIT 10, está presente em mais de um Convênio recebido/repassado. </br>Conforme relação de convênios abaixo: </br><u>Convênio(s) recebido(s):</u> 789, 321652</br><u>Convênio(s) repassado(s):</u> 1</td><td><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"popover\" data-placement=\"left\" data-trigger=\"focus\" title=\"Solução\" data-content=\"Acessar o cadastro dos convênios citados (Executando >> Convênios >> Recebidos/Repassados) e ajustar a informação preenchida no campo Código SIT, de forma que o mesmo Código SIT não esteja presente em mais de um convênio recebido/repassado.\"><i class=\"fas fa-question\"></i></button></td><td><a><button type=\"button\" class=\"btn btn-default btn-sm disabled\" data-toggle=\"tooltip\" data-trigger=\"focus\" title=\"\" data-content=\"\" disabled><i class=\"fas fa-link\"></i></button></a></td></tbody></table></section></div></div></div></body></html>","chave":"Entidade_PM QUATRO PONTES - FL CURITIBA - PILOTOAno_2018TipoEnvio_MENSALOpcoes_1Mes_1Assunto_[MovimentoRealizavel, Convenio]","_id":"NjBjW7wnRk1JohWx"}
{"uuid":"3cfd2d30-a352-11e9-a2a3-2a2ae2dbcce4","nome":"PM QUATRO PONTES - FL CURITIBA - PILOTO - 2018 (MovimentoRealizavel)","usuario":"luiz.naspolini","idEntidade":"3606","dataGeracao":"10-07-2019 17:35:21","quantidadeErros":"0","quantidadeAvisos":"0","quantidadeErrosFixo":"0","quantidadeAvisosFixo":"0","textoHtml":"<!DOCTYPE html><html lang=\"en\"><head><title>Validações &nbspTCE-PR_SIM-AM-Contabil</title><meta charset=\"utf-8\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"><link rel=\"shortcut icon\" href=\"https://i.ibb.co/2KddCq7/23113851-300x300.png\" type=\"image/x-icon\"><script src=\"https://cdn.betha.cloud/base/g4/front-end/2.13/js/base.js\"></script><script src=\"https://cdn.betha.cloud/base/g4/design/3.11.9/bth-design.js\"></script><script src=\"https://canvasjs.com/assets/script/canvasjs.min.js\"></script><link rel=\"stylesheet\" href=\"https://cdn.betha.cloud/base/g4/design/3.11.9/bth-design.css\"><link rel=\"stylesheet\" href=\"https://use.fontawesome.com/releases/v5.8.1/css/all.css\" integrity=\"sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf\" crossorigin=\"anonymous\"><style> /* CSS for the main interaction */ .tabset {font-size: 15px;} .tabset > input[type=\"radio\"] { position: absolute; left: -200vw; } .tabset .tab-panel { display: none; }.tabset>input:first-child:checked~.tab-panels>.tab-panel:first-child,.tabset>input:nth-child(3):checked~.tab-panels>.tab-panel:nth-child(2),.tabset>input:nth-child(5):checked~.tab-panels>.tab-panel:nth-child(3),.tabset>input:nth-child(7):checked~.tab-panels>.tab-panel:nth-child(4),.tabset>input:nth-child(9):checked~.tab-panels>.tab-panel:nth-child(5),.tabset>input:nth-child(11):checked~.tab-panels>.tab-panel:nth-child(6),.tabset>input:nth-child(13):checked~.tab-panels>.tab-panel:nth-child(7),.tabset>input:nth-child(15):checked~.tab-panels>.tab-panel:nth-child(8),.tabset>input:nth-child(17):checked~.tab-panels>.tab-panel:nth-child(9),.tabset>input:nth-child(19):checked~.tab-panels>.tab-panel:nth-child(10),.tabset>input:nth-child(21):checked~.tab-panels>.tab-panel:nth-child(11),.tabset>input:nth-child(23):checked~.tab-panels>.tab-panel:nth-child(12),.tabset>input:nth-child(25):checked~.tab-panels>.tab-panel:nth-child(13),.tabset>input:nth-child(27):checked~.tab-panels>.tab-panel:nth-child(14),.tabset>input:nth-child(29):checked~.tab-panels>.tab-panel:nth-child(15),.tabset>input:nth-child(31):checked~.tab-panels>.tab-panel:nth-child(16),.tabset>input:nth-child(33):checked~.tab-panels>.tab-panel:nth-child(17),.tabset>input:nth-child(35):checked~.tab-panels>.tab-panel:nth-child(18),.tabset>input:nth-child(37):checked~.tab-panels>.tab-panel:nth-child(19),.tabset>input:nth-child(39):checked~.tab-panels>.tab-panel:nth-child(20),.tabset>input:nth-child(41):checked~.tab-panels>.tab-panel:nth-child(21),.tabset>input:nth-child(43):checked~.tab-panels>.tab-panel:nth-child(22),.tabset>input:nth-child(45):checked~.tab-panels>.tab-panel:nth-child(23),.tabset>input:nth-child(47):checked~.tab-panels>.tab-panel:nth-child(24),.tabset>input:nth-child(49):checked~.tab-panels>.tab-panel:nth-child(25){display: block;}/* Styling */ .tabset > label { position: relative; display: inline-block; padding: 15px 15px 25px; border: 1px solid transparent; border-bottom: 0; cursor: pointer; font-weight: 600; top: 8px; } .tabset > label::after { content: \"\"; position: absolute; left: 15px; bottom: 10px; width: 22px; height: 4px; background: #8d8d8d; } .tabset > label:hover, .tabset > input:focus + label { color: #06c; } .tabset > label:hover::after, .tabset > input:focus + label::after, .tabset > input:checked + label::after { background: #06c; } .tabset > input:checked + label { border-color: #ccc; border-bottom: 1px solid #fff; margin-bottom: -1px; } .tab-panel { padding: 30px 0; border-top: 1px solid #ccc; } /* Demo purposes only */ *, *:before, *:after { box-sizing: border-box; }#myInput { background-image: url(https://image.flaticon.com/icons/svg/116/116836.svg); background-size: 100% 50%;/* Add a search icon to input */ background-position: 500px 12px; /* Position the search icon */ background-repeat: no-repeat; /* Do not repeat the icon image */ width: 100%; /* Full-width */ font-size: 16px; /* Increase font-size */ padding: 12px 20px 12px 40px; /* Add some padding */ border: 1px solid #ddd; /* Add a grey border */ margin-bottom: 12px; /* Add some space below the input */ } #myTable { border-collapse: collapse; /* Collapse borders */ width: 100%; /* Full-width */ border: 1px solid #ddd; /* Add a grey border */ font-size: 18px; /* Increase font-size */ } #myTable th, #myTable td { text-align: left; /* Left-align text */ padding: 12px; /* Add padding */ } #myTable tr { /* Add a bottom border to all table rows */ border-bottom: 1px solid #ddd; } #myTable tr.header, #myTable tr:hover { /* Add a grey background color to the table header and on hover */ background-color: #f1f1f1; }.fas.fa-exclamation-triangle{color: #ef1f41}.fas.fa-exclamation-circle{color: #deea00}.fas.fa-check-circle{ color: #04ce40 }.table-danger{background-color: #ffccce!important;} .table-warning{background-color: #fcf7b5!important;} .table-success{background-color: #b9d8b4!important;}body {            background-color: #fafafa;            font-size: 16px;            line-height: 1.5;            padding-top: 33px;        }        h1,        h2,        h3,        h4,        h5,        h6 {            font-weight: 400;        }        #header {            border-bottom: 5px solid #37474F;            color: #37474F;            margin-bottom: 1.5rem;        }        #revenue-tag {            font-weight: inherit !important;            border-radius: 0px !important;        }        .card {            border: 0rem;            border-radius: 0rem;        }        .card-header {            background-color: #37474F;            border-radius: 0 !important;            color: white;            margin-bottom: 0;            padding: 1rem;        }        .card-block {            border: 1px solid #cccccc;        }        .shadow {            box-shadow: 0 6px 10px 0 rgba(0, 0, 0, 0.14),                0 1px 18px 0 rgba(0, 0, 0, 0.12),                0 3px 5px -1px rgba(0, 0, 0, 0.2);        }        #revenue-column-chart,        #products-revenue-pie-chart,        #orders-spline-chart,        #graficoAvisosArquivo,        #graficoAvisosArquivo,\t\t #graficoEvolucaoInconsistencias,        #chartContainer {            height: 300px;            width: 100%; }</style></head><script>setInterval(function() { atualizaGraficoStacked();console.log(\"Dashboard atualizado!\"); }, 60000);var registrosCorrigidos = [];var paragrafosCorrigidos = [];var numeroCorrecoes = 0;var numeroErros = 0;var numeroAvisos = 0;var qtdErrosFixo = 0;var qtdAvisosFixo = 0;function GetMaiorData(dadosApi){\tvar ultimaExecucao = \"\";\tfor(var i = 0; i < dadosApi.length; i++){\t\tif(i === 0){\t\t\tultimaExecucao = dadosApi[i].dataGeracao;\t\t} else{\t\t\tif(dadosApi[i].dataGeracao > dadosApi[i-1].dataGeracao){\t\t\t\tultimaExecucao = dadosApi[i].dataGeracao;\t\t\t}\t\t}\t}\treturn ultimaExecucao;}async function atualizaGraficoStacked(){var graficoStackedColumn = \"\";    var graficoErrosArquivo = \"\";var graficoAvisosArquivo = \"\";var dadosErro = [];var dadosAviso = [];var dadosErroStacked = [];var dadosAvisoStacked = [];var dadosCorrecoesStacked = [];var dadosEvolucaoErros = [];var dadosEvolucaoAvisos = [];var retornoApiChaves = await getDadosPorChave();var dadosCardDashboard = await getDadosPorUUID();var dadosCorrigidoDashboard = 0;qtdErrosFixo = dadosCardDashboard.object[0].quantidadeErrosFixo;qtdAvisosFixo = dadosCardDashboard.object[0].quantidadeAvisosFixo;if(dadosCardDashboard.object[0].tabelaCorrigida){\tdadosCorrigidoDashboard = dadosCardDashboard.object[0].tabelaCorrigida.length;}document.querySelector(\".ErrosCardDashboard\").innerText = dadosCardDashboard.object[0].quantidadeErros;document.querySelector(\".AvisosCardDashboard\").innerText = dadosCardDashboard.object[0].quantidadeAvisos;document.querySelector(\".CorrecoesCardDashboard\").innerText = dadosCorrigidoDashboard;document.querySelector(\".UltimaExecCardDashboard\").innerText = GetMaiorData(retornoApiChaves.object);var first = true;var arquivos = document.querySelectorAll(\".tab-panel\");for (var i = 0; i < arquivos.length; i++) {if (arquivos[i].id != \"Dashboard0\" && arquivos[i].id != \"Todos0\") {if (first) {dadosErro.push({y: Number((arquivos[i].children[3].children[2].innerText)),name: (arquivos[i].id.substring(0, arquivos[i].id.length - 1)),indexLabel: (arquivos[i].id.substring(0, arquivos[i].id.length - 1)),legendText: (arquivos[i].id.substring(0, arquivos[i].id.length - 1)),exploded: true,});dadosAviso.push({y: Number((arquivos[i].children[3].children[5].innerText)),name: (arquivos[i].id.substring(0, arquivos[i].id.length - 1)),indexLabel: (arquivos[i].id.substring(0, arquivos[i].id.length - 1)),legendText: (arquivos[i].id.substring(0, arquivos[i].id.length - 1)),exploded: true,});dadosErroStacked.push({y: Number((arquivos[i].children[3].children[2].innerText)),label: (arquivos[i].id.substring(0, arquivos[i].id.length - 1))});dadosAvisoStacked.push({y: Number((arquivos[i].children[3].children[5].innerText)),label: (arquivos[i].id.substring(0, arquivos[i].id.length - 1))});dadosCorrecoesStacked.push({y: Number((arquivos[i].children[3].children[8].innerText)),label: (arquivos[i].id.substring(0, arquivos[i].id.length - 1))});} else {dadosErro.push({y: Number((arquivos[i].children[3].children[2].innerText)),name: (arquivos[i].id.substring(0, arquivos[i].id.length - 1)),indexLabel: (arquivos[i].id.substring(0, arquivos[i].id.length - 1)),legendText: (arquivos[i].id.substring(0, arquivos[i].id.length - 1)),});dadosAviso.push({y: Number((arquivos[i].children[3].children[5].innerText)),name: (arquivos[i].id.substring(0, arquivos[i].id.length - 1)),indexLabel: (arquivos[i].id.substring(0, arquivos[i].id.length - 1)),legendText: (arquivos[i].id.substring(0, arquivos[i].id.length - 1)),exploded: true,});dadosErroStacked.push({y: Number((arquivos[i].children[3].children[2].innerText)),label: (arquivos[i].id.substring(0, arquivos[i].id.length - 1))});dadosAvisoStacked.push({y: Number((arquivos[i].children[3].children[5].innerText)),label: (arquivos[i].id.substring(0, arquivos[i].id.length - 1))});dadosCorrecoesStacked.push({y: Number((arquivos[i].children[3].children[8].innerText)),label: (arquivos[i].id.substring(0, arquivos[i].id.length - 1))});}}}for (var i = 0; i < retornoApiChaves.object.length; i++) {\tdadosEvolucaoErros.push({\t\tlabel: retornoApiChaves.object[i].dataGeracao,\t\ty: Number(retornoApiChaves.object[i].quantidadeErrosFixo),\t});\tdadosEvolucaoAvisos.push({\t\tlabel: retornoApiChaves.object[i].dataGeracao,\t\ty: Number(retornoApiChaves.object[i].quantidadeAvisosFixo),\t});}graficoEvolucaoInconsistencias = new CanvasJS.Chart(\"graficoEvolucaoInconsistencias\", {\ttheme: \"light2\",\tanimationEnabled: true,\taxisY: {\t\tincludeZero: false,\t\ttitle: \"Numero de inconsistências\",\t},\ttoolTip: {\t\tshared: \"true\"\t},\tlegend: {\t\tcursor: \"pointer\",\t},\tdata: [\t{\t\ttype: \"spline\",\t\tcolor: \"red\",\t\tshowInLegend: true,\t\tname: \"Erros\",\t\tdataPoints: dadosEvolucaoErros\t},\t{\t\ttype: \"spline\",\t\tcolor: \"gold\",\t\tshowInLegend: true,\t\tname: \"Avisos\",\t\tdataPoints: dadosEvolucaoAvisos\t}]});graficoStackedColumn = new CanvasJS.Chart(\"chartContainer\", {data: [{type: \"stackedColumn\",color: \"#ffccce\",dataPoints: dadosErroStacked}, {type: \"stackedColumn\",color: \"#fcf7b5\",dataPoints: dadosAvisoStacked}, {type: \"stackedColumn\",color: \"#b9d8b4\",dataPoints: dadosCorrecoesStacked}]});graficoErrosArquivo = new CanvasJS.Chart(\"products-revenue-pie-chart\", {animationEnabled: true,theme: \"theme2\",legend: {fontSize: 14},toolTip: {borderThickness: 0,content: \"<span style='color: {color};'>{name}</span>: #percent%\",cornerRadius: 0},data: [{indexLabelFontColor: \"#676464\",indexLabelFontSize: 14,legendMarkerType: \"square\",legendText: \"{indexLabel}\",showInLegend: true,startAngle: 90,type: \"pie\",dataPoints: dadosErro,}]});graficoAvisosArquivo = new CanvasJS.Chart(\"graficoAvisosArquivo\", {animationEnabled: true,theme: \"theme2\",legend: {fontSize: 14},toolTip: {borderThickness: 0,content: \"<span style='color: {color};'>{name}</span>: #percent%\",cornerRadius: 0},data: [{indexLabelFontColor: \"#676464\",indexLabelFontSize: 14,legendMarkerType: \"square\",legendText: \"{indexLabel}\",showInLegend: true,startAngle: 90,type: \"pie\",dataPoints: dadosAviso,}]});graficoEvolucaoInconsistencias.render();graficoErrosArquivo.render();graficoAvisosArquivo.render();graficoStackedColumn.render();}$(function () {atualizaGraficoStacked();});function download_csv(csv, filename) {var csvFile;var downloadLink;csvFile = new Blob([\"﻿\",csv], {type: \"text/csv\"});downloadLink = document.createElement(\"a\");downloadLink.download = filename;downloadLink.href = window.URL.createObjectURL(csvFile);downloadLink.style.display = \"none\";document.body.appendChild(downloadLink);downloadLink.click();}function export_table_to_csv(html, filename) {var csv = [];var section = document.querySelector(\"#Todos0\");var rows = section.querySelectorAll(\".table-danger , .table-warning, .table-success\");for (var i = 0; i < rows.length; i++) {var row = [], cols = rows[i].querySelectorAll(\"td, th\");for (var j = 0; j < cols.length; j++){ if(j === 3){row.push(cols[j].children[0].dataset.content);}else{row.push(cols[j].innerText);}}csv.push(row.join('|'));}download_csv(csv.join(\"\\n\"), filename);}function geraRelCSV(){var html = document.querySelector(\"table\").outerHTML;export_table_to_csv(html, \"validacoes_TCE-PR_SIM-AM-Contabil_10-07-2019_17-35.csv\");}function mostraModalParametros(idModal){var display = document.querySelector(`#${idModal}`).style.display;if(display === \"none\"){var display = document.querySelector(`#${idModal}`).style.display = \"block\";}}function escondeModalParametros(idModal){document.querySelector(`#${idModal}`).style.display = \"none\";}function searchTableTodos(tableId,inputId) { var input, filter, found, table, tr, td, i, j; input = document.getElementById(inputId); filter = input.value.toUpperCase(); table = document.getElementById(tableId); tb = table.getElementsByTagName(\"tbody\"); for(i =0; i < tb.length; i++){ tr = tb[i].getElementsByTagName(\"tr\"); } for (i = 0; i < tr.length; i++) { td = tr[i].getElementsByTagName(\"td\"); for (j = 0; j < td.length; j++) { if (td[j].innerHTML.toUpperCase().indexOf(filter) > -1) { found = true; } } if (found) { tr[i].style.display = \"\"; found = false; } else { tr[i].style.display = \"none\"; } } }async function progresso(progressId) {var elem = document.getElementById(progressId);var width = 30;var id = setInterval(await frame, 10);async function frame() {if (width >= 100) {clearInterval(id);} else {width++;elem.style.width = width + '%';}}}jQuery.each( [ \"put\", \"delete\" ], function( i, method ) {jQuery[ method ] = function( url, data, callback, type ) {\tif ( jQuery.isFunction( data ) ) {\ttype = type || callback;\tcallback = data;\tdata = undefined;\t};\treturn jQuery.ajax({\turl: url,\ttype: method,\tdataType: type,\tdata: data,\tsuccess: callback\t});};});async function criaArquivo(uUID) {\tvar qtdErros = 0;\tvar qtdAviso = 0;\tvar dataGeracao = document.querySelector(\".dataGeracao\").innerText;\tvar chave = document.querySelector(\".parametrosBanco\").innerText;\terroAviso = document.querySelectorAll(\"h7\");\terroAviso.forEach(element => {\t\tif (!element.parentElement.parentElement.id.includes(\"Todos\")) {\t\t\tif (element.id.includes(\"qtdErro\")) {\t\t\t\tqtdErros += Number(element.innerText);\t\t\t}\t\t\tif (element.id.includes(\"qtdAviso\")) {\t\t\t\tqtdAviso += Number(element.innerText);\t\t\t}\t\t}\t});\tvar dados = {\t\tuuid: uUID,\t\ttabelaCorrigida: [],\t\tparagrafoCorrigido: [],\t\tdataGeracao: dataGeracao,\t\tquantidadeErros: qtdErros,\t\tquantidadeAvisos: qtdAviso,\t\tchave: chave,\t};\treturn new Promise(function (resolve, reject) {\t\t$.post(`http://betha-pdc-prevalidacoes.herokuapp.com/api/arquivo/`, dados, function (data, status) {\t\t\tresolve(data);\t\t});\t});}async function getDadosPorUUID() {\tvar uUID = document.querySelector(\".uuid\").innerText;\treturn new Promise((resolve, reject) => {\t\t$.get(`http://betha-pdc-prevalidacoes.herokuapp.com/api/arquivo/${uUID}`, function (data, status) {\t\t\tresolve(data);\t\t});\t}\t);}async function getDadosPorChave() {\tvar chave = document.querySelector(\".parametrosBanco\").innerText;\treturn new Promise((resolve, reject) => {\t\t$.get(`http://betha-pdc-prevalidacoes.herokuapp.com/api/arquivo/chave/${chave}/5/desc`, function (data, status) {\t\t\tarrayOrdenado = eval(data);\t\t\tvar results = arrayOrdenado['object'];\t\t\tresults.sort(function(a,b){\t\t\t\tif(a.dataGeracao == b.dataGeracao)\t\t\t\t\treturn 0;\t\t\t\tif(a.dataGeracao < b.dataGeracao)\t\t\t\t\treturn -1;\t\t\t\tif(a.dataGeracao > b.dataGeracao)\t\t\t\t\treturn 1;\t\t\t});\t\t\tdata.object = results;\t\t\tresolve(data);\t\t});\t});}async function atualizaDadosCorrecao(dadosTabela, dadosParagrafo) {\tvar uUID = document.querySelector(\".uuid\").innerText.substring(0, 36);\tvar qtdErros = 0;\tvar qtdAviso = 0;\tvar dataGeracao = document.querySelector(\".dataGeracao\").innerText;\tvar chave = document.querySelector(\".parametrosBanco\").innerText;\terroAviso = document.querySelectorAll(\"h7\");\terroAviso.forEach(element => {\t\tif (!element.parentElement.parentElement.id.includes(\"Todos\")) {\t\t\tif (element.id.includes(\"qtdErro\")) {\t\t\t\tqtdErros += Number(element.innerText);\t\t\t}\t\t\tif (element.id.includes(\"qtdAviso\")) {\t\t\t\tqtdAviso += Number(element.innerText);\t\t\t}\t\t}\t});\tvar dados = {\t\tuuid: uUID,\t\ttabelaCorrigida: dadosTabela,\t\tparagrafoCorrigido: dadosParagrafo,\t\tdataGeracao: dataGeracao,\t\tquantidadeErros: qtdErros,\t\tquantidadeAvisos: qtdAviso,\t\tquantidadeErrosFixo: qtdErrosFixo,\t\tquantidadeAvisosFixo: qtdAvisosFixo,\t\tchave: chave,\t};\t$.put(`http://betha-pdc-prevalidacoes.herokuapp.com/api/arquivo/${uUID}`, dados, function (result) {\t\tconsole.log(result);\t});}async function verificaArquivo(uuid) {\treturn new Promise(function (resolve, reject) {\t\t$.get(`http://betha-pdc-prevalidacoes.herokuapp.com/api/arquivo/${uuid}`, function (data, status) {\t\t\tif (data.object.length === 0) {\t\t\t\tresolve(false);\t\t\t};\t\t\tresolve(true);\t\t});\t});}async function getTabelasCorrigidas(uuid) {\treturn new Promise(function (resolve, reject) {\t\t$.get(`http://betha-pdc-prevalidacoes.herokuapp.com/api/arquivo/${uuid}`, function (data, status) {\t\t\tif (data.object[0].tabelaCorrigida) {\t\t\t\tresolve(data.object[0].tabelaCorrigida);\t\t\t};\t\t\tresolve(['']);\t\t});\t});}async function getParagrafosCorrigidos(uuid) {\treturn new Promise(function (resolve, reject) {\t\t$.get(`http://betha-pdc-prevalidacoes.herokuapp.com/api/arquivo/${uuid}`, function (data, status) {\t\t\tif ((data.object[0].paragrafoCorrigido)) {\t\t\t\tresolve(data.object[0].paragrafoCorrigido);\t\t\t};\t\t\tresolve(['']);\t\t});\t});}async function getDadosLocalStorage() {        var uUID = document.querySelector(\".uuid\").innerText.substring(0, 36);        var arquivoExiste = await verificaArquivo(uUID);        console.log(arquivoExiste);        if (!arquivoExiste) {            console.log(await criaArquivo(uUID));        } else {            var tabelasCorrigida = await getTabelasCorrigidas(uUID);            var paragrafosCorrigido = await getParagrafosCorrigidos(uUID);            if (tabelasCorrigida != \"\") {                tabelasCorrigida.forEach(tableId => {                    classe = document.getElementById(tableId).getAttribute(\"class\");                    if (classe == 'table-danger') {                        numeroCorrecoes = document.getElementById(paragrafosCorrigido[0]).children[8].innerText;                        numeroErros = document.getElementById(paragrafosCorrigido[0]).children[2].innerText;                        numeroCorrecoes++;                        numeroErros--;                        document.getElementById(paragrafosCorrigido[0]).children[8].innerText = numeroCorrecoes;                        document.getElementById(paragrafosCorrigido[0]).children[2].innerText = numeroErros;                        registrosCorrigidos.push(tableId);                        paragrafosCorrigidos.push(paragrafosCorrigido[0]);                        paragrafosCorrigido.shift();                        tr = document.getElementById(tableId).classList.remove('table-danger');                        tr = document.getElementById(tableId).classList.add('table-success');                        document.getElementById(tableId).children[0].children[0].children[0].checked = true;                    }                    if (classe == 'table-warning') {                        numeroCorrecoes = document.getElementById(paragrafosCorrigido[0]).children[8].innerText;                        numeroAvisos = document.getElementById(paragrafosCorrigido[0]).children[5].innerText;                        numeroCorrecoes++;                        numeroAvisos--;                        document.getElementById(paragrafosCorrigido[0]).children[8].innerText = numeroCorrecoes;                        document.getElementById(paragrafosCorrigido[0]).children[5].innerText = numeroAvisos;                        registrosCorrigidos.push(tableId);                        paragrafosCorrigidos.push(paragrafosCorrigido[0]);                        paragrafosCorrigido.shift();                        tr = document.getElementById(tableId).classList.remove('table-warning');                        tr = document.getElementById(tableId).classList.add('table-success');                        document.getElementById(tableId).children[0].children[0].children[0].checked = true;                    }                });            }        }    }function acaoMostrarEsconder(buttonId){buttonId = `#${buttonId}`;var tabelasCorrigidas = document.querySelector(\".table-success\");var button = document.querySelector(buttonId);var display = tabelasCorrigidas.style.display;if(display === \"\"){button.innerText = \"MOSTRAR RESOLVIDOS\";escondeResolvidos();}else{button.innerText = \"ESCONDER RESOLVIDOS\";mostraResolvidos();}}function escondeResolvidos() {var corrigidos = document.getElementsByClassName(\"table-success\");for (var i = 0; i < corrigidos.length; i++) {corrigidos[i].style.display = \"none\";}}function mostraResolvidos() {var corrigidos = document.getElementsByClassName(\"table-success\");for (var i = 0; i < corrigidos.length; i++) {corrigidos[i].style.display = \"\";}}$(document).ready(function() {getDadosLocalStorage();$(\"body\").popover({template: '<div class=\"popover med-popover left in\" role=\"tooltip\"><div class=\"arrow\"></div><div class=\"popover-content\"></div></div>',container: \"body\",trigger: \"manual\",placement: \"left\",selector: \"[data-toggle=popover]\"});$(\"[data-toggle=popover]\").on(\"click\", function () {$(this).popover(\"toggle\");});});function marcaResolvido(idTable, paragrafoId) {primeiroErro  = true;primeiroAviso = true;numeroCorrecoes = document.getElementById(paragrafoId).children[8].innerText;        classe = document.getElementById(idTable).getAttribute(\"class\");        if (classe === \"table-danger\") {            tr = document.getElementById(idTable).classList.remove('table-danger');            tr = document.getElementById(idTable).classList.add('table-success');            numeroCorrecoes++;            numeroErros = document.getElementById(paragrafoId).children[2].innerText;            numeroErros--;            document.getElementById(paragrafoId).children[2].innerText = numeroErros;            document.getElementById(paragrafoId).children[8].innerText = numeroCorrecoes;            registrosCorrigidos.push(idTable);            paragrafosCorrigidos.push(paragrafoId);            atualizaDadosCorrecao(registrosCorrigidos,paragrafosCorrigidos);        }        if (classe === \"table-warning\") {            tr = document.getElementById(idTable).classList.remove('table-warning');            tr = document.getElementById(idTable).classList.add('table-success');            numeroCorrecoes++;            numeroAvisos = document.getElementById(paragrafoId).children[5].innerText;            numeroAvisos--;            document.getElementById(paragrafoId).children[5].innerText = numeroAvisos;            document.getElementById(paragrafoId).children[8].innerText = numeroCorrecoes;            registrosCorrigidos.push(idTable);            paragrafosCorrigidos.push(paragrafoId);            atualizaDadosCorrecao(registrosCorrigidos,paragrafosCorrigidos);        }        if (classe === \"table-success\") {            tr = document.getElementById(idTable);            td = tr.getElementsByTagName(\"td\");            var tipoMsg = td[2].innerText;            if (tipoMsg === \"Aviso\") {                tr = document.getElementById(idTable).classList.remove('table-success');                tr = document.getElementById(idTable).classList.add('table-warning');                numeroCorrecoes--;                numeroAvisos = document.getElementById(paragrafoId).children[5].innerText;                numeroAvisos++;                document.getElementById(paragrafoId).children[5].innerText = numeroAvisos;                document.getElementById(paragrafoId).children[8].innerText = numeroCorrecoes;                for (var i = 0; i < registrosCorrigidos.length; i++) {                    if (registrosCorrigidos[i] === idTable) {                        registrosCorrigidos.splice(i, 1);                    }                }                for (var i = 0; i < paragrafosCorrigidos.length; i++) {                    if (paragrafosCorrigidos[i] === paragrafoId) {\t\t\t\t\t   if(primeiroAviso){                         paragrafosCorrigidos.splice(i, 1);\t\t\t\t\t\t  primeiroAviso = false;                      }                   }                }                atualizaDadosCorrecao(registrosCorrigidos,paragrafosCorrigidos);            } else {                tr = document.getElementById(idTable).classList.remove('table-success');                tr = document.getElementById(idTable).classList.add('table-danger');                numeroCorrecoes--;                numeroErros = document.getElementById(paragrafoId).children[2].innerText;                numeroErros++;                document.getElementById(paragrafoId).children[2].innerText = numeroErros;                document.getElementById(paragrafoId).children[8].innerText = numeroCorrecoes;                for (var i = 0; i < registrosCorrigidos.length; i++) {                    if (registrosCorrigidos[i] === idTable) {                        registrosCorrigidos.splice(i, 1);                    }                }                for (var i = 0; i < paragrafosCorrigidos.length; i++) {                    if (paragrafosCorrigidos[i] === paragrafoId) {\t\t\t\t\t\tif(primeiroErro){                        \tparagrafosCorrigidos.splice(i, 1);\t\t\t\t\t\t \tprimeiroErro = false;                    \t}                    }                }                atualizaDadosCorrecao(registrosCorrigidos,paragrafosCorrigidos);            }        }    }function acaoCheckBoxHeader(sectionId, idCheckBoxHeader) {tipoAcao = document.querySelector(`#${idCheckBoxHeader}`).children[0].getAttribute(\"class\");if(tipoAcao === 'fas fa-check-double'){marcarDesmarcarCheck(sectionId,true);document.querySelector(`#${idCheckBoxHeader}`).children[0].className = 'fas fa-times';}if(tipoAcao === 'fas fa-times'){marcarDesmarcarCheck(sectionId,false);document.querySelector(`#${idCheckBoxHeader}`).children[0].className = 'fas fa-check-double';}}function marcarDesmarcarCheck(sectionId, acao) {query = `#${sectionId}`;section = document.querySelector(query);checkboxes = section.querySelectorAll(\".bth-checkbox\");paragrafoId = section.children[3].id;tables = section.querySelectorAll('.table');for (var i = 0; i < tables.length; i++) {var tbody = tables[i].children[1];for (var j = 0; j < tbody.children.length; j++) {if(acao){tipoMsg = tbody.children[j].children[2].innerText;if(tbody.children[j].className === 'table-success'){numeroCorrecoes--;document.getElementById(paragrafoId).children[8].innerText = numeroCorrecoes;if(tipoMsg === \"Erro\"){numeroErros++;document.getElementById(paragrafoId).children[2].innerText = numeroErros;}else{numeroAvisos++;document.getElementById(paragrafoId).children[5].innerText = numeroAvisos;}}if(tipoMsg === \"Erro\"){tbody.children[j].className = \"table-danger\";tbody.children[j].children[0].children[0].children[0].checked = false;}else{tbody.children[j].className = \"table-warning\";tbody.children[j].children[0].children[0].children[0].checked = false;}trId = tbody.children[j].id;marcaResolvido(trId,paragrafoId);}else{if(tbody.children[j].className === 'table-danger'){numeroErros--;numeroCorrecoes++;document.getElementById(paragrafoId).children[8].innerText = numeroCorrecoes;document.getElementById(paragrafoId).children[2].innerText = numeroErros;}if(tbody.children[j].className === 'table-warning'){numeroAvisos--;numeroCorrecoes++;document.getElementById(paragrafoId).children[8].innerText = numeroCorrecoes;document.getElementById(paragrafoId).children[5].innerText = numeroAvisos;}tbody.children[j].className = \"table-success\";for (var i = 0; i < checkboxes.length; i++) {checkboxes[i].children[0].checked = acao;}numeroCorrecoes--;trId = tbody.children[j].id;marcaResolvido(trId,paragrafoId);}}}if(acao){for (var i = 0; i < checkboxes.length; i++) {checkboxes[i].children[0].checked = acao;}}}</script><body><div style=\"display: none;\" class=\"uuid\">3cfd2d30-a352-11e9-a2a3-2a2ae2dbcce4\r\n</div><div style=\"display: none;\" class=\"dataGeracao\">10-07-2019 17:35:21</div><div style=\"display: none;\" class=\"parametrosBanco\">Entidade_PM QUATRO PONTES - FL CURITIBA - PILOTOAno_2018TipoEnvio_MENSALOpcoes_1Mes_1Assunto_[MovimentoRealizavel]</div><div style=\"display: none;\" class=\"idEntidade\">3606</div><div id=\"modal1\" data-bf-loading-type=\"dialog\" class=\"modal fade in\" style=\"display: none; z-index: 1070;\"><div class=\"modal-dialog\" role=\"document\"><div class=\"modal-content modal-content__sidebar\"><div class=\"modal-header\"><h5 class=\"modal-title\">Parâmetros da execução</h5></button></div><div class=\"modal-body modal-run\"><table class=\"table table-unfixed table-unstriped\"><thead><tr><th>Parâmetro</th><th>Valor</th></tr></thead><tbody><tr><td>Entidade</td><td>PM QUATRO PONTES - FL CURITIBA - PILOTO</td></tr><tr><td>Exercício</td><td>2018</td></tr><tr><td>Tipo de envio</td><td>MENSAL</td></tr><tr><td>Opção de geração</td><td>1</td></tr><tr><td>Mês</td><td>1</td></tr><tr><td>Assunto(s)</td><td>[MovimentoRealizavel]</td></tr></tbody></table> </div><div class=\"modal-footer\"><button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\" onclick=\"escondeModalParametros('modal1')\">Fechar</button></div></div></div></div><div class=\"container container-fluid\"><div ui-view=\"header\" class=\"ng-scope\" style=\"\"><header class=\"ng-scope\"><div id=\"header\" class=\"megamenu-container\"><div class=\"container iv\"><ul class=\"megamenu\"><li class=\"menu-static\"><a href=\"#\" class=\"drop\"><div class=\"bth-logo bth-logo--brand-blue\"><div class=\"bth-logo__image\"></div></div><span class=\"megamenu-title\">Relatório de Pré-Validações</span></a></li></ul></div></div></header></div><div class=\"bth-card\"><div class=\"bth-card__header\"><div class=\"row\"><div class=\"col-md-12\"><div class=\"bth-card bth-card--filled\"><div class=\"bth-card__body\"><div class=\"row row-flex bottom\"><div class=\"col-md-1 text-center\"><a target=\"_blank\" href=\"http://www.betha.com.br/\"><img src=\"https://i.ibb.co/TWSgZX4/logo-share-square.png\" alt=\"logo-share-square\" border=\"0\" style=\"height: 10vh;\"></a></div><div class=\"col-md-6\" style=\"border-left: 1px solid #E1E3E6;padding-left: 15px;\"><label style=\"font-size: 14px\">Entidade</label><h2 class=\"top ng-binding\">PM QUATRO PONTES - FL CURITIBA - PILOTO</h2></div><div class=\"col-md-3\" style=\"border-left: 1px solid #E1E3E6;padding-left: 15px;\"><label style=\"font-size: 14px\">Ano</label><h2 class=\"top ng-binding\">2019</h2></div><div class=\"col-md-2 text-right\"><button class=\"btn btn-default btn-sm\" onclick=\"mostraModalParametros('modal1')\"><i class=\"fas fa-cogs\"></i> Parâmetros</button></div></div></div></div></div></div></div><div class=\"bth-card__body\"><div><p style=\"font-size: 70%;\" ><i class=\"fas fa-info-circle\"></i>  Para acesso a todas as funcionalidades do arquivo, recomendamos a utilização dos navegadores <em>Google Chrome</em> e <em>Firefox</em>.</p><p style=\"font-size: 70%;\" ><i class=\"fas fa-info-circle\"></i> Para que o <em>Link</em> tenha funcionamento adequado, abra este arquivo no mesmo navegador do sistema.</p></div><div class=\"tabset\"><input type=\"radio\" name=\"tabset\" id=\"MovimentoRealizavel\" aria-controls=\"MovimentoRealizavel\" checked><label style=\"font-size: 15px;\" for=\"MovimentoRealizavel\">MovimentoRealizavel</label><div class =\"tab-panels\"></section><section id=\"MovimentoRealizavel0\" class=\"tab-panel\"><button id=\"btnShow0\" type=\"button\" class=\"btn btn-default btn-sm\" onclick=\"acaoMostrarEsconder('btnShow0')\">Esconder resolvidos</button><h2>MovimentoRealizavel</h2><p>Verifique atentamente as validações informadas abaixo:</p><p style=\"font-size:85%\" id =\"p0\"><i class=\"fas fa-exclamation-triangle\"></i><h7>&nbspErros:</h7><h7 id=\"qtdErro0\">1&nbsp</h7>&nbsp<i class=\"fas fa-exclamation-circle\"></i><h7>&nbspAvisos:</h7><h7 id=\"qtdAviso0\">0&nbsp</h7>&nbsp<i class=\"fas fa-check-circle\"></i><h7>&nbspCorreções:</h7><h7 id=\"qtdCorrecao&nbsp0\">0<h7></p><br><div class=\"input-group open\"><input class=\"form-control input-sm search-field\" type=\"text\" id=\"200\" onkeyup='searchTableTodos(\"table\",\"200\")' placeholder=\"Pesquisar\"><div class=\"input-group-btn\"><button type=\"button\" class=\"btn btn-default btn-sm\" title=\"Pesquisar\"><i class=\"fa fa-search\"></i></button></div></div><br><table class=\"table table-unfixed table-unstriped\" id=\"table\"><thead><tr><th class=\"col-fit\"><a type=\"button\" class=\"btn btn-default btn-xs\" id=\"chboxMovimentoRealizavel\" onclick=\"acaoCheckBoxHeader('MovimentoRealizavel0','chboxMovimentoRealizavel')\" style=\"\"><i class=\"fas fa-check-double\"></i></a></th><th>Sistema</th><th>Tipo</th><th>Descrição</th><th class=\"col-fit\"> Solução</th><th class=\"col-fit\"> Link</th></tr></thead><tbody><tr class=\"table-danger\" id=\"tr0\"><td><div class=\"bth-checkbox\"><input id=\"chbox0\" type=\"checkbox\" class=\"ng-pristine ng-valid ng-touched\" style=\"\" onclick=\"marcaResolvido('tr0','p0')\"><label for=\"chbox0\"></label></div></td><td>Contábil</td><td>Erro</td><td>A arrecadação extraorcamentaria na conta '1131101000000000000000000', realizada no dia '2018-01-20', com valor de R$: 30.00 não possui credor cadastrado</td><td><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"popover\" data-placement=\"left\" data-trigger=\"focus\" title=\"Solução\" data-content=\"Cadastrar o credor para a arrecadação mencionada\"><i class=\"fas fa-question\"></i></button></td><td><a><button type=\"button\" class=\"btn btn-default btn-sm disabled\" data-toggle=\"tooltip\" data-trigger=\"focus\" title=\"\" data-content=\"\" disabled><i class=\"fas fa-link\"></i></button></a></td></tbody></table></section></div></div></div></body></html>","chave":"Entidade_PM QUATRO PONTES - FL CURITIBA - PILOTOAno_2018TipoEnvio_MENSALOpcoes_1Mes_1Assunto_[MovimentoRealizavel]","_id":"gWqcUCBK9aCdmZBP"}
{"uuid":"162636b0-a353-11e9-a2a3-2a2ae2dbcce4","nome":"PM QUATRO PONTES - FL CURITIBA - PILOTO - 2019 (SaldoMensalExtratoBancario, ConciliacaoBancaria)","usuario":"luiz.naspolini","idEntidade":"3606","dataGeracao":"10-07-2019 17:41:26","quantidadeErros":"4","quantidadeAvisos":"0","quantidadeErrosFixo":"4","quantidadeAvisosFixo":"0","textoHtml":"<!DOCTYPE html><html lang=\"en\"><head><title>Validações &nbspTCE-PR_SIM-AM-Tesouraria</title><meta charset=\"utf-8\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"><link rel=\"shortcut icon\" href=\"https://i.ibb.co/2KddCq7/23113851-300x300.png\" type=\"image/x-icon\"><script src=\"https://cdn.betha.cloud/base/g4/front-end/2.13/js/base.js\"></script><script src=\"https://cdn.betha.cloud/base/g4/design/3.11.9/bth-design.js\"></script><script src=\"https://canvasjs.com/assets/script/canvasjs.min.js\"></script><link rel=\"stylesheet\" href=\"https://cdn.betha.cloud/base/g4/design/3.11.9/bth-design.css\"><link rel=\"stylesheet\" href=\"https://use.fontawesome.com/releases/v5.8.1/css/all.css\" integrity=\"sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf\" crossorigin=\"anonymous\"><style> /* CSS for the main interaction */ .tabset {font-size: 15px;} .tabset > input[type=\"radio\"] { position: absolute; left: -200vw; } .tabset .tab-panel { display: none; }.tabset>input:first-child:checked~.tab-panels>.tab-panel:first-child,.tabset>input:nth-child(3):checked~.tab-panels>.tab-panel:nth-child(2),.tabset>input:nth-child(5):checked~.tab-panels>.tab-panel:nth-child(3),.tabset>input:nth-child(7):checked~.tab-panels>.tab-panel:nth-child(4),.tabset>input:nth-child(9):checked~.tab-panels>.tab-panel:nth-child(5),.tabset>input:nth-child(11):checked~.tab-panels>.tab-panel:nth-child(6),.tabset>input:nth-child(13):checked~.tab-panels>.tab-panel:nth-child(7),.tabset>input:nth-child(15):checked~.tab-panels>.tab-panel:nth-child(8),.tabset>input:nth-child(17):checked~.tab-panels>.tab-panel:nth-child(9),.tabset>input:nth-child(19):checked~.tab-panels>.tab-panel:nth-child(10),.tabset>input:nth-child(21):checked~.tab-panels>.tab-panel:nth-child(11),.tabset>input:nth-child(23):checked~.tab-panels>.tab-panel:nth-child(12),.tabset>input:nth-child(25):checked~.tab-panels>.tab-panel:nth-child(13),.tabset>input:nth-child(27):checked~.tab-panels>.tab-panel:nth-child(14),.tabset>input:nth-child(29):checked~.tab-panels>.tab-panel:nth-child(15),.tabset>input:nth-child(31):checked~.tab-panels>.tab-panel:nth-child(16),.tabset>input:nth-child(33):checked~.tab-panels>.tab-panel:nth-child(17),.tabset>input:nth-child(35):checked~.tab-panels>.tab-panel:nth-child(18),.tabset>input:nth-child(37):checked~.tab-panels>.tab-panel:nth-child(19),.tabset>input:nth-child(39):checked~.tab-panels>.tab-panel:nth-child(20),.tabset>input:nth-child(41):checked~.tab-panels>.tab-panel:nth-child(21),.tabset>input:nth-child(43):checked~.tab-panels>.tab-panel:nth-child(22),.tabset>input:nth-child(45):checked~.tab-panels>.tab-panel:nth-child(23),.tabset>input:nth-child(47):checked~.tab-panels>.tab-panel:nth-child(24),.tabset>input:nth-child(49):checked~.tab-panels>.tab-panel:nth-child(25){display: block;}/* Styling */ .tabset > label { position: relative; display: inline-block; padding: 15px 15px 25px; border: 1px solid transparent; border-bottom: 0; cursor: pointer; font-weight: 600; top: 8px; } .tabset > label::after { content: \"\"; position: absolute; left: 15px; bottom: 10px; width: 22px; height: 4px; background: #8d8d8d; } .tabset > label:hover, .tabset > input:focus + label { color: #06c; } .tabset > label:hover::after, .tabset > input:focus + label::after, .tabset > input:checked + label::after { background: #06c; } .tabset > input:checked + label { border-color: #ccc; border-bottom: 1px solid #fff; margin-bottom: -1px; } .tab-panel { padding: 30px 0; border-top: 1px solid #ccc; } /* Demo purposes only */ *, *:before, *:after { box-sizing: border-box; }#myInput { background-image: url(https://image.flaticon.com/icons/svg/116/116836.svg); background-size: 100% 50%;/* Add a search icon to input */ background-position: 500px 12px; /* Position the search icon */ background-repeat: no-repeat; /* Do not repeat the icon image */ width: 100%; /* Full-width */ font-size: 16px; /* Increase font-size */ padding: 12px 20px 12px 40px; /* Add some padding */ border: 1px solid #ddd; /* Add a grey border */ margin-bottom: 12px; /* Add some space below the input */ } #myTable { border-collapse: collapse; /* Collapse borders */ width: 100%; /* Full-width */ border: 1px solid #ddd; /* Add a grey border */ font-size: 18px; /* Increase font-size */ } #myTable th, #myTable td { text-align: left; /* Left-align text */ padding: 12px; /* Add padding */ } #myTable tr { /* Add a bottom border to all table rows */ border-bottom: 1px solid #ddd; } #myTable tr.header, #myTable tr:hover { /* Add a grey background color to the table header and on hover */ background-color: #f1f1f1; }.fas.fa-exclamation-triangle{color: #ef1f41}.fas.fa-exclamation-circle{color: #deea00}.fas.fa-check-circle{ color: #04ce40 }.table-danger{background-color: #ffccce!important;} .table-warning{background-color: #fcf7b5!important;} .table-success{background-color: #b9d8b4!important;}body {            background-color: #fafafa;            font-size: 16px;            line-height: 1.5;            padding-top: 33px;        }        h1,        h2,        h3,        h4,        h5,        h6 {            font-weight: 400;        }        #header {            border-bottom: 5px solid #37474F;            color: #37474F;            margin-bottom: 1.5rem;        }        #revenue-tag {            font-weight: inherit !important;            border-radius: 0px !important;        }        .card {            border: 0rem;            border-radius: 0rem;        }        .card-header {            background-color: #37474F;            border-radius: 0 !important;            color: white;            margin-bottom: 0;            padding: 1rem;        }        .card-block {            border: 1px solid #cccccc;        }        .shadow {            box-shadow: 0 6px 10px 0 rgba(0, 0, 0, 0.14),                0 1px 18px 0 rgba(0, 0, 0, 0.12),                0 3px 5px -1px rgba(0, 0, 0, 0.2);        }        #revenue-column-chart,        #products-revenue-pie-chart,        #orders-spline-chart,        #graficoAvisosArquivo,        #graficoAvisosArquivo,\t\t #graficoEvolucaoInconsistencias,        #chartContainer {            height: 300px;            width: 100%; }</style></head><script>setInterval(function() { atualizaGraficoStacked();console.log(\"Dashboard atualizado!\"); }, 60000);var registrosCorrigidos = [];var paragrafosCorrigidos = [];var numeroCorrecoes = 0;var numeroErros = 0;var numeroAvisos = 0;var qtdErrosFixo = 0;var qtdAvisosFixo = 0;function GetMaiorData(dadosApi){\tvar ultimaExecucao = \"\";\tfor(var i = 0; i < dadosApi.length; i++){\t\tif(i === 0){\t\t\tultimaExecucao = dadosApi[i].dataGeracao;\t\t} else{\t\t\tif(dadosApi[i].dataGeracao > dadosApi[i-1].dataGeracao){\t\t\t\tultimaExecucao = dadosApi[i].dataGeracao;\t\t\t}\t\t}\t}\treturn ultimaExecucao;}async function atualizaGraficoStacked(){var graficoStackedColumn = \"\";    var graficoErrosArquivo = \"\";var graficoAvisosArquivo = \"\";var dadosErro = [];var dadosAviso = [];var dadosErroStacked = [];var dadosAvisoStacked = [];var dadosCorrecoesStacked = [];var dadosEvolucaoErros = [];var dadosEvolucaoAvisos = [];var retornoApiChaves = await getDadosPorChave();var dadosCardDashboard = await getDadosPorUUID();var dadosCorrigidoDashboard = 0;qtdErrosFixo = dadosCardDashboard.object[0].quantidadeErrosFixo;qtdAvisosFixo = dadosCardDashboard.object[0].quantidadeAvisosFixo;if(dadosCardDashboard.object[0].tabelaCorrigida){\tdadosCorrigidoDashboard = dadosCardDashboard.object[0].tabelaCorrigida.length;}document.querySelector(\".ErrosCardDashboard\").innerText = dadosCardDashboard.object[0].quantidadeErros;document.querySelector(\".AvisosCardDashboard\").innerText = dadosCardDashboard.object[0].quantidadeAvisos;document.querySelector(\".CorrecoesCardDashboard\").innerText = dadosCorrigidoDashboard;document.querySelector(\".UltimaExecCardDashboard\").innerText = GetMaiorData(retornoApiChaves.object);var first = true;var arquivos = document.querySelectorAll(\".tab-panel\");for (var i = 0; i < arquivos.length; i++) {if (arquivos[i].id != \"Dashboard0\" && arquivos[i].id != \"Todos0\") {if (first) {dadosErro.push({y: Number((arquivos[i].children[3].children[2].innerText)),name: (arquivos[i].id.substring(0, arquivos[i].id.length - 1)),indexLabel: (arquivos[i].id.substring(0, arquivos[i].id.length - 1)),legendText: (arquivos[i].id.substring(0, arquivos[i].id.length - 1)),exploded: true,});dadosAviso.push({y: Number((arquivos[i].children[3].children[5].innerText)),name: (arquivos[i].id.substring(0, arquivos[i].id.length - 1)),indexLabel: (arquivos[i].id.substring(0, arquivos[i].id.length - 1)),legendText: (arquivos[i].id.substring(0, arquivos[i].id.length - 1)),exploded: true,});dadosErroStacked.push({y: Number((arquivos[i].children[3].children[2].innerText)),label: (arquivos[i].id.substring(0, arquivos[i].id.length - 1))});dadosAvisoStacked.push({y: Number((arquivos[i].children[3].children[5].innerText)),label: (arquivos[i].id.substring(0, arquivos[i].id.length - 1))});dadosCorrecoesStacked.push({y: Number((arquivos[i].children[3].children[8].innerText)),label: (arquivos[i].id.substring(0, arquivos[i].id.length - 1))});} else {dadosErro.push({y: Number((arquivos[i].children[3].children[2].innerText)),name: (arquivos[i].id.substring(0, arquivos[i].id.length - 1)),indexLabel: (arquivos[i].id.substring(0, arquivos[i].id.length - 1)),legendText: (arquivos[i].id.substring(0, arquivos[i].id.length - 1)),});dadosAviso.push({y: Number((arquivos[i].children[3].children[5].innerText)),name: (arquivos[i].id.substring(0, arquivos[i].id.length - 1)),indexLabel: (arquivos[i].id.substring(0, arquivos[i].id.length - 1)),legendText: (arquivos[i].id.substring(0, arquivos[i].id.length - 1)),exploded: true,});dadosErroStacked.push({y: Number((arquivos[i].children[3].children[2].innerText)),label: (arquivos[i].id.substring(0, arquivos[i].id.length - 1))});dadosAvisoStacked.push({y: Number((arquivos[i].children[3].children[5].innerText)),label: (arquivos[i].id.substring(0, arquivos[i].id.length - 1))});dadosCorrecoesStacked.push({y: Number((arquivos[i].children[3].children[8].innerText)),label: (arquivos[i].id.substring(0, arquivos[i].id.length - 1))});}}}for (var i = 0; i < retornoApiChaves.object.length; i++) {\tdadosEvolucaoErros.push({\t\tlabel: retornoApiChaves.object[i].dataGeracao,\t\ty: Number(retornoApiChaves.object[i].quantidadeErrosFixo),\t});\tdadosEvolucaoAvisos.push({\t\tlabel: retornoApiChaves.object[i].dataGeracao,\t\ty: Number(retornoApiChaves.object[i].quantidadeAvisosFixo),\t});}graficoEvolucaoInconsistencias = new CanvasJS.Chart(\"graficoEvolucaoInconsistencias\", {\ttheme: \"light2\",\tanimationEnabled: true,\taxisY: {\t\tincludeZero: false,\t\ttitle: \"Numero de inconsistências\",\t},\ttoolTip: {\t\tshared: \"true\"\t},\tlegend: {\t\tcursor: \"pointer\",\t},\tdata: [\t{\t\ttype: \"spline\",\t\tcolor: \"red\",\t\tshowInLegend: true,\t\tname: \"Erros\",\t\tdataPoints: dadosEvolucaoErros\t},\t{\t\ttype: \"spline\",\t\tcolor: \"gold\",\t\tshowInLegend: true,\t\tname: \"Avisos\",\t\tdataPoints: dadosEvolucaoAvisos\t}]});graficoStackedColumn = new CanvasJS.Chart(\"chartContainer\", {data: [{type: \"stackedColumn\",color: \"#ffccce\",dataPoints: dadosErroStacked}, {type: \"stackedColumn\",color: \"#fcf7b5\",dataPoints: dadosAvisoStacked}, {type: \"stackedColumn\",color: \"#b9d8b4\",dataPoints: dadosCorrecoesStacked}]});graficoErrosArquivo = new CanvasJS.Chart(\"products-revenue-pie-chart\", {animationEnabled: true,theme: \"theme2\",legend: {fontSize: 14},toolTip: {borderThickness: 0,content: \"<span style='color: {color};'>{name}</span>: #percent%\",cornerRadius: 0},data: [{indexLabelFontColor: \"#676464\",indexLabelFontSize: 14,legendMarkerType: \"square\",legendText: \"{indexLabel}\",showInLegend: true,startAngle: 90,type: \"pie\",dataPoints: dadosErro,}]});graficoAvisosArquivo = new CanvasJS.Chart(\"graficoAvisosArquivo\", {animationEnabled: true,theme: \"theme2\",legend: {fontSize: 14},toolTip: {borderThickness: 0,content: \"<span style='color: {color};'>{name}</span>: #percent%\",cornerRadius: 0},data: [{indexLabelFontColor: \"#676464\",indexLabelFontSize: 14,legendMarkerType: \"square\",legendText: \"{indexLabel}\",showInLegend: true,startAngle: 90,type: \"pie\",dataPoints: dadosAviso,}]});graficoEvolucaoInconsistencias.render();graficoErrosArquivo.render();graficoAvisosArquivo.render();graficoStackedColumn.render();}$(function () {atualizaGraficoStacked();});function download_csv(csv, filename) {var csvFile;var downloadLink;csvFile = new Blob([\"﻿\",csv], {type: \"text/csv\"});downloadLink = document.createElement(\"a\");downloadLink.download = filename;downloadLink.href = window.URL.createObjectURL(csvFile);downloadLink.style.display = \"none\";document.body.appendChild(downloadLink);downloadLink.click();}function export_table_to_csv(html, filename) {var csv = [];var section = document.querySelector(\"#Todos0\");var rows = section.querySelectorAll(\".table-danger , .table-warning, .table-success\");for (var i = 0; i < rows.length; i++) {var row = [], cols = rows[i].querySelectorAll(\"td, th\");for (var j = 0; j < cols.length; j++){ if(j === 3){row.push(cols[j].children[0].dataset.content);}else{row.push(cols[j].innerText);}}csv.push(row.join('|'));}download_csv(csv.join(\"\\n\"), filename);}function geraRelCSV(){var html = document.querySelector(\"table\").outerHTML;export_table_to_csv(html, \"validacoes_TCE-PR_SIM-AM-Tesouraria_10-07-2019_17-41.csv\");}function mostraModalParametros(idModal){var display = document.querySelector(`#${idModal}`).style.display;if(display === \"none\"){var display = document.querySelector(`#${idModal}`).style.display = \"block\";}}function escondeModalParametros(idModal){document.querySelector(`#${idModal}`).style.display = \"none\";}function searchTableTodos(tableId,inputId) { var input, filter, found, table, tr, td, i, j; input = document.getElementById(inputId); filter = input.value.toUpperCase(); table = document.getElementById(tableId); tb = table.getElementsByTagName(\"tbody\"); for(i =0; i < tb.length; i++){ tr = tb[i].getElementsByTagName(\"tr\"); } for (i = 0; i < tr.length; i++) { td = tr[i].getElementsByTagName(\"td\"); for (j = 0; j < td.length; j++) { if (td[j].innerHTML.toUpperCase().indexOf(filter) > -1) { found = true; } } if (found) { tr[i].style.display = \"\"; found = false; } else { tr[i].style.display = \"none\"; } } }async function progresso(progressId) {var elem = document.getElementById(progressId);var width = 30;var id = setInterval(await frame, 10);async function frame() {if (width >= 100) {clearInterval(id);} else {width++;elem.style.width = width + '%';}}}jQuery.each( [ \"put\", \"delete\" ], function( i, method ) {jQuery[ method ] = function( url, data, callback, type ) {\tif ( jQuery.isFunction( data ) ) {\ttype = type || callback;\tcallback = data;\tdata = undefined;\t};\treturn jQuery.ajax({\turl: url,\ttype: method,\tdataType: type,\tdata: data,\tsuccess: callback\t});};});async function criaArquivo(uUID) {\tvar qtdErros = 0;\tvar qtdAviso = 0;\tvar dataGeracao = document.querySelector(\".dataGeracao\").innerText;\tvar chave = document.querySelector(\".parametrosBanco\").innerText;\terroAviso = document.querySelectorAll(\"h7\");\terroAviso.forEach(element => {\t\tif (!element.parentElement.parentElement.id.includes(\"Todos\")) {\t\t\tif (element.id.includes(\"qtdErro\")) {\t\t\t\tqtdErros += Number(element.innerText);\t\t\t}\t\t\tif (element.id.includes(\"qtdAviso\")) {\t\t\t\tqtdAviso += Number(element.innerText);\t\t\t}\t\t}\t});\tvar dados = {\t\tuuid: uUID,\t\ttabelaCorrigida: [],\t\tparagrafoCorrigido: [],\t\tdataGeracao: dataGeracao,\t\tquantidadeErros: qtdErros,\t\tquantidadeAvisos: qtdAviso,\t\tchave: chave,\t};\treturn new Promise(function (resolve, reject) {\t\t$.post(`http://betha-pdc-prevalidacoes.herokuapp.com/api/arquivo/`, dados, function (data, status) {\t\t\tresolve(data);\t\t});\t});}async function getDadosPorUUID() {\tvar uUID = document.querySelector(\".uuid\").innerText;\treturn new Promise((resolve, reject) => {\t\t$.get(`http://betha-pdc-prevalidacoes.herokuapp.com/api/arquivo/${uUID}`, function (data, status) {\t\t\tresolve(data);\t\t});\t}\t);}async function getDadosPorChave() {\tvar chave = document.querySelector(\".parametrosBanco\").innerText;\treturn new Promise((resolve, reject) => {\t\t$.get(`http://betha-pdc-prevalidacoes.herokuapp.com/api/arquivo/chave/${chave}/5/desc`, function (data, status) {\t\t\tarrayOrdenado = eval(data);\t\t\tvar results = arrayOrdenado['object'];\t\t\tresults.sort(function(a,b){\t\t\t\tif(a.dataGeracao == b.dataGeracao)\t\t\t\t\treturn 0;\t\t\t\tif(a.dataGeracao < b.dataGeracao)\t\t\t\t\treturn -1;\t\t\t\tif(a.dataGeracao > b.dataGeracao)\t\t\t\t\treturn 1;\t\t\t});\t\t\tdata.object = results;\t\t\tresolve(data);\t\t});\t});}async function atualizaDadosCorrecao(dadosTabela, dadosParagrafo) {\tvar uUID = document.querySelector(\".uuid\").innerText.substring(0, 36);\tvar qtdErros = 0;\tvar qtdAviso = 0;\tvar dataGeracao = document.querySelector(\".dataGeracao\").innerText;\tvar chave = document.querySelector(\".parametrosBanco\").innerText;\terroAviso = document.querySelectorAll(\"h7\");\terroAviso.forEach(element => {\t\tif (!element.parentElement.parentElement.id.includes(\"Todos\")) {\t\t\tif (element.id.includes(\"qtdErro\")) {\t\t\t\tqtdErros += Number(element.innerText);\t\t\t}\t\t\tif (element.id.includes(\"qtdAviso\")) {\t\t\t\tqtdAviso += Number(element.innerText);\t\t\t}\t\t}\t});\tvar dados = {\t\tuuid: uUID,\t\ttabelaCorrigida: dadosTabela,\t\tparagrafoCorrigido: dadosParagrafo,\t\tdataGeracao: dataGeracao,\t\tquantidadeErros: qtdErros,\t\tquantidadeAvisos: qtdAviso,\t\tquantidadeErrosFixo: qtdErrosFixo,\t\tquantidadeAvisosFixo: qtdAvisosFixo,\t\tchave: chave,\t};\t$.put(`http://betha-pdc-prevalidacoes.herokuapp.com/api/arquivo/${uUID}`, dados, function (result) {\t\tconsole.log(result);\t});}async function verificaArquivo(uuid) {\treturn new Promise(function (resolve, reject) {\t\t$.get(`http://betha-pdc-prevalidacoes.herokuapp.com/api/arquivo/${uuid}`, function (data, status) {\t\t\tif (data.object.length === 0) {\t\t\t\tresolve(false);\t\t\t};\t\t\tresolve(true);\t\t});\t});}async function getTabelasCorrigidas(uuid) {\treturn new Promise(function (resolve, reject) {\t\t$.get(`http://betha-pdc-prevalidacoes.herokuapp.com/api/arquivo/${uuid}`, function (data, status) {\t\t\tif (data.object[0].tabelaCorrigida) {\t\t\t\tresolve(data.object[0].tabelaCorrigida);\t\t\t};\t\t\tresolve(['']);\t\t});\t});}async function getParagrafosCorrigidos(uuid) {\treturn new Promise(function (resolve, reject) {\t\t$.get(`http://betha-pdc-prevalidacoes.herokuapp.com/api/arquivo/${uuid}`, function (data, status) {\t\t\tif ((data.object[0].paragrafoCorrigido)) {\t\t\t\tresolve(data.object[0].paragrafoCorrigido);\t\t\t};\t\t\tresolve(['']);\t\t});\t});}async function getDadosLocalStorage() {        var uUID = document.querySelector(\".uuid\").innerText.substring(0, 36);        var arquivoExiste = await verificaArquivo(uUID);        console.log(arquivoExiste);        if (!arquivoExiste) {            console.log(await criaArquivo(uUID));        } else {            var tabelasCorrigida = await getTabelasCorrigidas(uUID);            var paragrafosCorrigido = await getParagrafosCorrigidos(uUID);            if (tabelasCorrigida != \"\") {                tabelasCorrigida.forEach(tableId => {                    classe = document.getElementById(tableId).getAttribute(\"class\");                    if (classe == 'table-danger') {                        numeroCorrecoes = document.getElementById(paragrafosCorrigido[0]).children[8].innerText;                        numeroErros = document.getElementById(paragrafosCorrigido[0]).children[2].innerText;                        numeroCorrecoes++;                        numeroErros--;                        document.getElementById(paragrafosCorrigido[0]).children[8].innerText = numeroCorrecoes;                        document.getElementById(paragrafosCorrigido[0]).children[2].innerText = numeroErros;                        registrosCorrigidos.push(tableId);                        paragrafosCorrigidos.push(paragrafosCorrigido[0]);                        paragrafosCorrigido.shift();                        tr = document.getElementById(tableId).classList.remove('table-danger');                        tr = document.getElementById(tableId).classList.add('table-success');                        document.getElementById(tableId).children[0].children[0].children[0].checked = true;                    }                    if (classe == 'table-warning') {                        numeroCorrecoes = document.getElementById(paragrafosCorrigido[0]).children[8].innerText;                        numeroAvisos = document.getElementById(paragrafosCorrigido[0]).children[5].innerText;                        numeroCorrecoes++;                        numeroAvisos--;                        document.getElementById(paragrafosCorrigido[0]).children[8].innerText = numeroCorrecoes;                        document.getElementById(paragrafosCorrigido[0]).children[5].innerText = numeroAvisos;                        registrosCorrigidos.push(tableId);                        paragrafosCorrigidos.push(paragrafosCorrigido[0]);                        paragrafosCorrigido.shift();                        tr = document.getElementById(tableId).classList.remove('table-warning');                        tr = document.getElementById(tableId).classList.add('table-success');                        document.getElementById(tableId).children[0].children[0].children[0].checked = true;                    }                });            }        }    }function acaoMostrarEsconder(buttonId){buttonId = `#${buttonId}`;var tabelasCorrigidas = document.querySelector(\".table-success\");var button = document.querySelector(buttonId);var display = tabelasCorrigidas.style.display;if(display === \"\"){button.innerText = \"MOSTRAR RESOLVIDOS\";escondeResolvidos();}else{button.innerText = \"ESCONDER RESOLVIDOS\";mostraResolvidos();}}function escondeResolvidos() {var corrigidos = document.getElementsByClassName(\"table-success\");for (var i = 0; i < corrigidos.length; i++) {corrigidos[i].style.display = \"none\";}}function mostraResolvidos() {var corrigidos = document.getElementsByClassName(\"table-success\");for (var i = 0; i < corrigidos.length; i++) {corrigidos[i].style.display = \"\";}}$(document).ready(function() {getDadosLocalStorage();$(\"body\").popover({template: '<div class=\"popover med-popover left in\" role=\"tooltip\"><div class=\"arrow\"></div><div class=\"popover-content\"></div></div>',container: \"body\",trigger: \"manual\",placement: \"left\",selector: \"[data-toggle=popover]\"});$(\"[data-toggle=popover]\").on(\"click\", function () {$(this).popover(\"toggle\");});});function marcaResolvido(idTable, paragrafoId) {primeiroErro  = true;primeiroAviso = true;numeroCorrecoes = document.getElementById(paragrafoId).children[8].innerText;        classe = document.getElementById(idTable).getAttribute(\"class\");        if (classe === \"table-danger\") {            tr = document.getElementById(idTable).classList.remove('table-danger');            tr = document.getElementById(idTable).classList.add('table-success');            numeroCorrecoes++;            numeroErros = document.getElementById(paragrafoId).children[2].innerText;            numeroErros--;            document.getElementById(paragrafoId).children[2].innerText = numeroErros;            document.getElementById(paragrafoId).children[8].innerText = numeroCorrecoes;            registrosCorrigidos.push(idTable);            paragrafosCorrigidos.push(paragrafoId);            atualizaDadosCorrecao(registrosCorrigidos,paragrafosCorrigidos);        }        if (classe === \"table-warning\") {            tr = document.getElementById(idTable).classList.remove('table-warning');            tr = document.getElementById(idTable).classList.add('table-success');            numeroCorrecoes++;            numeroAvisos = document.getElementById(paragrafoId).children[5].innerText;            numeroAvisos--;            document.getElementById(paragrafoId).children[5].innerText = numeroAvisos;            document.getElementById(paragrafoId).children[8].innerText = numeroCorrecoes;            registrosCorrigidos.push(idTable);            paragrafosCorrigidos.push(paragrafoId);            atualizaDadosCorrecao(registrosCorrigidos,paragrafosCorrigidos);        }        if (classe === \"table-success\") {            tr = document.getElementById(idTable);            td = tr.getElementsByTagName(\"td\");            var tipoMsg = td[2].innerText;            if (tipoMsg === \"Aviso\") {                tr = document.getElementById(idTable).classList.remove('table-success');                tr = document.getElementById(idTable).classList.add('table-warning');                numeroCorrecoes--;                numeroAvisos = document.getElementById(paragrafoId).children[5].innerText;                numeroAvisos++;                document.getElementById(paragrafoId).children[5].innerText = numeroAvisos;                document.getElementById(paragrafoId).children[8].innerText = numeroCorrecoes;                for (var i = 0; i < registrosCorrigidos.length; i++) {                    if (registrosCorrigidos[i] === idTable) {                        registrosCorrigidos.splice(i, 1);                    }                }                for (var i = 0; i < paragrafosCorrigidos.length; i++) {                    if (paragrafosCorrigidos[i] === paragrafoId) {\t\t\t\t\t   if(primeiroAviso){                         paragrafosCorrigidos.splice(i, 1);\t\t\t\t\t\t  primeiroAviso = false;                      }                   }                }                atualizaDadosCorrecao(registrosCorrigidos,paragrafosCorrigidos);            } else {                tr = document.getElementById(idTable).classList.remove('table-success');                tr = document.getElementById(idTable).classList.add('table-danger');                numeroCorrecoes--;                numeroErros = document.getElementById(paragrafoId).children[2].innerText;                numeroErros++;                document.getElementById(paragrafoId).children[2].innerText = numeroErros;                document.getElementById(paragrafoId).children[8].innerText = numeroCorrecoes;                for (var i = 0; i < registrosCorrigidos.length; i++) {                    if (registrosCorrigidos[i] === idTable) {                        registrosCorrigidos.splice(i, 1);                    }                }                for (var i = 0; i < paragrafosCorrigidos.length; i++) {                    if (paragrafosCorrigidos[i] === paragrafoId) {\t\t\t\t\t\tif(primeiroErro){                        \tparagrafosCorrigidos.splice(i, 1);\t\t\t\t\t\t \tprimeiroErro = false;                    \t}                    }                }                atualizaDadosCorrecao(registrosCorrigidos,paragrafosCorrigidos);            }        }    }function acaoCheckBoxHeader(sectionId, idCheckBoxHeader) {tipoAcao = document.querySelector(`#${idCheckBoxHeader}`).children[0].getAttribute(\"class\");if(tipoAcao === 'fas fa-check-double'){marcarDesmarcarCheck(sectionId,true);document.querySelector(`#${idCheckBoxHeader}`).children[0].className = 'fas fa-times';}if(tipoAcao === 'fas fa-times'){marcarDesmarcarCheck(sectionId,false);document.querySelector(`#${idCheckBoxHeader}`).children[0].className = 'fas fa-check-double';}}function marcarDesmarcarCheck(sectionId, acao) {query = `#${sectionId}`;section = document.querySelector(query);checkboxes = section.querySelectorAll(\".bth-checkbox\");paragrafoId = section.children[3].id;tables = section.querySelectorAll('.table');for (var i = 0; i < tables.length; i++) {var tbody = tables[i].children[1];for (var j = 0; j < tbody.children.length; j++) {if(acao){tipoMsg = tbody.children[j].children[2].innerText;if(tbody.children[j].className === 'table-success'){numeroCorrecoes--;document.getElementById(paragrafoId).children[8].innerText = numeroCorrecoes;if(tipoMsg === \"Erro\"){numeroErros++;document.getElementById(paragrafoId).children[2].innerText = numeroErros;}else{numeroAvisos++;document.getElementById(paragrafoId).children[5].innerText = numeroAvisos;}}if(tipoMsg === \"Erro\"){tbody.children[j].className = \"table-danger\";tbody.children[j].children[0].children[0].children[0].checked = false;}else{tbody.children[j].className = \"table-warning\";tbody.children[j].children[0].children[0].children[0].checked = false;}trId = tbody.children[j].id;marcaResolvido(trId,paragrafoId);}else{if(tbody.children[j].className === 'table-danger'){numeroErros--;numeroCorrecoes++;document.getElementById(paragrafoId).children[8].innerText = numeroCorrecoes;document.getElementById(paragrafoId).children[2].innerText = numeroErros;}if(tbody.children[j].className === 'table-warning'){numeroAvisos--;numeroCorrecoes++;document.getElementById(paragrafoId).children[8].innerText = numeroCorrecoes;document.getElementById(paragrafoId).children[5].innerText = numeroAvisos;}tbody.children[j].className = \"table-success\";for (var i = 0; i < checkboxes.length; i++) {checkboxes[i].children[0].checked = acao;}numeroCorrecoes--;trId = tbody.children[j].id;marcaResolvido(trId,paragrafoId);}}}if(acao){for (var i = 0; i < checkboxes.length; i++) {checkboxes[i].children[0].checked = acao;}}}</script><body><div style=\"display: none;\" class=\"uuid\">162636b0-a353-11e9-a2a3-2a2ae2dbcce4\r\n</div><div style=\"display: none;\" class=\"dataGeracao\">10-07-2019 17:41:26</div><div style=\"display: none;\" class=\"parametrosBanco\">Entidade_PM QUATRO PONTES - FL CURITIBA - PILOTOAno_2019TipoEnvio_MENSALOpcoes_3Mes_JaneiroAssunto_[SaldoMensalExtratoBancario, ConciliacaoBancaria]</div><div style=\"display: none;\" class=\"idEntidade\">3606</div><div id=\"modal1\" data-bf-loading-type=\"dialog\" class=\"modal fade in\" style=\"display: none; z-index: 1070;\"><div class=\"modal-dialog\" role=\"document\"><div class=\"modal-content modal-content__sidebar\"><div class=\"modal-header\"><h5 class=\"modal-title\">Parâmetros da execução</h5></button></div><div class=\"modal-body modal-run\"><table class=\"table table-unfixed table-unstriped\"><thead><tr><th>Parâmetro</th><th>Valor</th></tr></thead><tbody><tr><td>Script</td><td>MÓDULO TESOURARIA - SIM-AM</td></tr><tr><td>Entidade</td><td>PM QUATRO PONTES - FL CURITIBA - PILOTO</td></tr><tr><td>Exercício</td><td>2019</td></tr><tr><td>Tipo de envio</td><td>MENSAL</td></tr><tr><td>Opção de geração</td><td>3</td></tr><tr><td>Mês</td><td>Janeiro</td></tr><tr><td>Assunto(s)</td><td>[SaldoMensalExtratoBancario, ConciliacaoBancaria]</td></tr></tbody></table> </div><div class=\"modal-footer\"><button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\" onclick=\"escondeModalParametros('modal1')\">Fechar</button></div></div></div></div><div class=\"container container-fluid\"><div ui-view=\"header\" class=\"ng-scope\" style=\"\"><header class=\"ng-scope\"><div id=\"header\" class=\"megamenu-container\"><div class=\"container iv\"><ul class=\"megamenu\"><li class=\"menu-static\"><a href=\"#\" class=\"drop\"><div class=\"bth-logo bth-logo--brand-blue\"><div class=\"bth-logo__image\"></div></div><span class=\"megamenu-title\">Relatório de Pré-Validações</span></a></li></ul></div></div></header></div><div class=\"bth-card\"><div class=\"bth-card__header\"><div class=\"row\"><div class=\"col-md-12\"><div class=\"bth-card bth-card--filled\"><div class=\"bth-card__body\"><div class=\"row row-flex bottom\"><div class=\"col-md-1 text-center\"><a target=\"_blank\" href=\"http://www.betha.com.br/\"><img src=\"https://i.ibb.co/TWSgZX4/logo-share-square.png\" alt=\"logo-share-square\" border=\"0\" style=\"height: 10vh;\"></a></div><div class=\"col-md-6\" style=\"border-left: 1px solid #E1E3E6;padding-left: 15px;\"><label style=\"font-size: 14px\">Entidade</label><h2 class=\"top ng-binding\">PM QUATRO PONTES - FL CURITIBA - PILOTO</h2></div><div class=\"col-md-3\" style=\"border-left: 1px solid #E1E3E6;padding-left: 15px;\"><label style=\"font-size: 14px\">Ano</label><h2 class=\"top ng-binding\">2019</h2></div><div class=\"col-md-2 text-right\"><button class=\"btn btn-default btn-sm\" onclick=\"mostraModalParametros('modal1')\"><i class=\"fas fa-cogs\"></i> Parâmetros</button></div></div></div></div></div></div></div><div class=\"bth-card__body\"><div><p style=\"font-size: 70%;\" ><i class=\"fas fa-info-circle\"></i>  Para acesso a todas as funcionalidades do arquivo, recomendamos a utilização dos navegadores <em>Google Chrome</em> e <em>Firefox</em>.</p><p style=\"font-size: 70%;\" ><i class=\"fas fa-info-circle\"></i> Para que o <em>Link</em> tenha funcionamento adequado, abra este arquivo no mesmo navegador do sistema.</p></div><div class=\"tabset\"><input onclick=\"atualizaGraficoStacked()\" type=\"radio\" name=\"tabset\" id=\"Dashboard\" aria-controls=\"Dashboard\"><label style=\"font-size: 15px;\" for=\"Dashboard\">Dashboard</label><input type=\"radio\" name=\"tabset\" id=\"Todos\" aria-controls=\"Todos\" checked><label style=\"font-size: 15px;\" for=\"Todos\">Todos</label><input type=\"radio\" name=\"tabset\" id=\"SaldoMensalExtratoBancario\" aria-controls=\"SaldoMensalExtratoBancario\"><label style=\"font-size: 15px;\" for=\"SaldoMensalExtratoBancario\">SaldoMensalExtratoBancario</label><input type=\"radio\" name=\"tabset\" id=\"ConciliacaoBancaria\" aria-controls=\"ConciliacaoBancaria\"><label style=\"font-size: 15px;\" for=\"ConciliacaoBancaria\">ConciliacaoBancaria</label><div class =\"tab-panels\"><section id=\"Dashboard0\" class=\"tab-panel\">\t<div class=\"container container-fluid\">\t\t<h2 id=\"header\">\t\t\t<strong>Pré-Validações</strong>\t\t\t<small class=\"text-muted\">Janeiro - 2019</small>\t\t</h2><div class=\"row m-b-3\">\t<div class=\"col-xs-3\">\t\t<div class=\"bth-card bth-card--filled\">\t\t\t<div class=\"bth-card__body\">\t\t\t\t<div class=\"col-xs-12\">\t\t\t\t\t<h4 style=\"text-align: center;\"><i style=\"padding-right: 15%;color: #ef1f41;\" class=\"fas fa-exclamation-triangle\"></i>Total de erros:<h1 class=\"ErrosCardDashboard\" style=\"text-align: center;\">12345</h1></h4>\t\t\t\t</div>\t\t\t</div>\t\t</div>   \t</div>\t<div class=\"col-xs-3\">\t\t<div class=\"bth-card bth-card--filled\">\t\t\t<div class=\"bth-card__body\">\t\t\t\t<div class=\"col-xs-12\">\t\t\t\t\t<h4 style=\"text-align: center;\"><i style=\"padding-right: 15%;color: #deea00;\" class=\"fas fa-exclamation-circle\"></i>Total de avisos:<h1 class=\"AvisosCardDashboard\" style=\"text-align: center;\">12345</h1></h4>\t\t\t\t</div>\t\t\t</div>\t\t</div>   \t</div>\t<div class=\"col-xs-3\">\t\t<div class=\"bth-card bth-card--filled\">\t\t\t<div class=\"bth-card__body\">\t\t\t\t<div class=\"col-xs-12\">\t\t\t\t\t<h4 style=\"text-align: center;\"><i style=\"padding-right: 15%;color: #04ce40;\" class=\"fas fa-check-circle\"></i>Correções:<h1 class=\"CorrecoesCardDashboard\" style=\"text-align: center;\">12</h1></h4>\t\t\t\t</div>\t\t\t</div>\t\t</div>   \t</div>\t<div class=\"col-xs-3\">\t\t<div class=\"bth-card bth-card--filled\">\t\t\t<div class=\"bth-card__body\">\t\t\t\t<div class=\"col-xs-12\">\t\t\t\t\t<h4 style=\"text-align: center;\"><i style=\"padding-right: 15%;color: #37474F;\" class=\"far fa-hourglass\"></i>Última execução:<h1 class=\"UltimaExecCardDashboard\" style=\"text-align: center;\">21/05/2019</h1></h4>\t\t\t\t</div>\t\t\t</div>\t\t</div>\t</div></div><div class=\"row m-b-10\">\t<div class=\"col-xs-12\">\t\t<div class=\"card shadow\">\t\t\t<h4 class=\"card-header\">Totais por arquivo</h4>\t\t\t<div class=\"card-block\">\t\t\t\t<div id=\"chartContainer\"></div>\t\t\t</div>\t\t</div>\t</div></div>\t\t<div class=\"row m-b-1\">\t\t\t<div class=\"col-lg-6\">\t\t\t\t<div class=\"card shadow\">\t\t\t\t\t<h4 class=\"card-header\">Erros por arquivo</h4>\t\t\t\t\t<div class=\"card-block\">\t\t\t\t\t\t<div id=\"products-revenue-pie-chart\"></div>\t\t\t\t\t</div>\t\t\t\t</div>\t\t\t</div>\t\t\t<div class=\"col-lg-6\">\t\t\t\t<div class=\"card shadow\">\t\t\t\t\t<h4 class=\"card-header\">Avisos por arquivo</h4>\t\t\t\t\t<div class=\"card-block\">\t\t\t\t\t\t<div id=\"graficoAvisosArquivo\"></div>\t\t\t\t\t</div>\t\t\t\t</div>\t\t\t</div>\t\t</div><div class=\"row m-b-1\">\t<div class=\"col-lg-12\">\t\t<div class=\"card shadow\">\t\t\t<h4 class=\"card-header\">Evolução das inconsistências por data</h4>\t\t\t<div class=\"card-block\">\t\t\t\t<div id=\"graficoEvolucaoInconsistencias\"></div>\t\t\t</div>\t\t</div>\t</div></div>\t</div></section><section id=\"Todos0\" class=\"tab-panel\"><button class=\"btn btn-default btn-sm\" id=\"btnGeraCSV01\" onclick=\"geraRelCSV()\"><i class=\"fas fa-download\"></i> Exportar para CSV</button><h2>SaldoMensalExtratoBancario</h2><p>Verifique atentamente as validações informadas abaixo:</p><p style=\"font-size:85%\" id =\"p0\"><i class=\"fas fa-exclamation-triangle\"></i><h7>&nbspErros:</h7><h7 id=\"qtdErro0\">&nbsp1</h7>&nbsp<i class=\"fas fa-exclamation-circle\"></i><h7>&nbspAvisos:</h7><h7 id=\"qtdAviso0\">&nbsp0</h7>&nbsp</p><table class=\"table table-unfixed table-unstriped\" id=\"table\"><thead><tr><th class=\"col-fit\">Sistema</th><th class=\"col-fit\">Tipo</th><th class=\"col-fit\">Descrição</th><th class=\"col-fit\"> Solução</th><th class=\"col-fit\"> Link</th></tr></thead><tbody><tr class=\"table-danger\" id=\"tr0\"><td>Tesouraria</td><td>Erro</td><td>Existe conciliação bancária realizada para a conta desativada no período de geração: 55571</td><td><button type=\"button\" class=\"btn btn-default btn-sm disabled\" data-toggle=\"popover\" data-placement=\"left\" data-trigger=\"focus\" title=\"\" data-content=\"\" disabled><i class=\"fas fa-question\"></i></button></td><td><a target=\"_blank\" href=\"https://tesouraria.cloud.betha.com.br/#/entidade/ZGF0YWJhc2U6MzUyMSxlbnRpdHk6MzYwNg==/cadastros/conciliacao-bancaria\"><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"tooltip\" data-trigger=\"focus\" title=\"Clique para acessar o sistema\" data-content=\"\"><i class=\"fas fa-link\"></i></button></a></td></tbody></table><h2>ConciliacaoBancaria</h2><p>Verifique atentamente as validações informadas abaixo:</p><p style=\"font-size:85%\" id =\"p1\"><i class=\"fas fa-exclamation-triangle\"></i><h7>&nbspErros:</h7><h7 id=\"qtdErro1\">&nbsp3</h7>&nbsp<i class=\"fas fa-exclamation-circle\"></i><h7>&nbspAvisos:</h7><h7 id=\"qtdAviso1\">&nbsp0</h7>&nbsp</p><table class=\"table table-unfixed table-unstriped\" id=\"table\"><thead><tr><th class=\"col-fit\">Sistema</th><th class=\"col-fit\">Tipo</th><th class=\"col-fit\">Descrição</th><th class=\"col-fit\"> Solução</th><th class=\"col-fit\"> Link</th></tr></thead><tbody><tr class=\"table-danger\" id=\"tr1\"><td>Tesouraria</td><td>Erro</td><td>Existe conciliação bancária realizada para a conta desativada no período de geração: BCO BRASIL C/C 9.654-7 - OPERAÇÃO VEICUL-Banco do Brasil S.A.-9.654</td><td><button type=\"button\" class=\"btn btn-default btn-sm disabled\" data-toggle=\"popover\" data-placement=\"left\" data-trigger=\"focus\" title=\"\" data-content=\"\" disabled><i class=\"fas fa-question\"></i></button></td><td><a target=\"_blank\" href=\"https://tesouraria.cloud.betha.com.br/#/entidade/ZGF0YWJhc2U6MzUyMSxlbnRpdHk6MzYwNg==/cadastros/conciliacao-bancaria\"><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"tooltip\" data-trigger=\"focus\" title=\"Clique para acessar o sistema\" data-content=\"\"><i class=\"fas fa-link\"></i></button></a></td><tr class=\"table-danger\" id=\"tr2\"><td>Tesouraria</td><td>Erro</td><td>Existe conciliação bancária realizada para a conta desativada no período de geração: BCO BRASIL C/C 9.666-0 INVESTIMENTO SUS-Banco do Brasil S.A.-9.660</td><td><button type=\"button\" class=\"btn btn-default btn-sm disabled\" data-toggle=\"popover\" data-placement=\"left\" data-trigger=\"focus\" title=\"\" data-content=\"\" disabled><i class=\"fas fa-question\"></i></button></td><td><a target=\"_blank\" href=\"https://tesouraria.cloud.betha.com.br/#/entidade/ZGF0YWJhc2U6MzUyMSxlbnRpdHk6MzYwNg==/cadastros/conciliacao-bancaria\"><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"tooltip\" data-trigger=\"focus\" title=\"Clique para acessar o sistema\" data-content=\"\"><i class=\"fas fa-link\"></i></button></a></td><tr class=\"table-danger\" id=\"tr3\"><td>Tesouraria</td><td>Erro</td><td>Existe conciliação bancária realizada para a conta desativada no período de geração: BCO BRASIL C/ FUNDEF 40%  6.841-1-Banco do Brasil S.A.-06.841</td><td><button type=\"button\" class=\"btn btn-default btn-sm disabled\" data-toggle=\"popover\" data-placement=\"left\" data-trigger=\"focus\" title=\"\" data-content=\"\" disabled><i class=\"fas fa-question\"></i></button></td><td><a target=\"_blank\" href=\"https://tesouraria.cloud.betha.com.br/#/entidade/ZGF0YWJhc2U6MzUyMSxlbnRpdHk6MzYwNg==/cadastros/conciliacao-bancaria\"><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"tooltip\" data-trigger=\"focus\" title=\"Clique para acessar o sistema\" data-content=\"\"><i class=\"fas fa-link\"></i></button></a></td></tbody></table></section><section id=\"SaldoMensalExtratoBancario1\" class=\"tab-panel\"><button id=\"btnShow0\" type=\"button\" class=\"btn btn-default btn-sm\" onclick=\"acaoMostrarEsconder('btnShow0')\">Esconder resolvidos</button><h2>SaldoMensalExtratoBancario</h2><p>Verifique atentamente as validações informadas abaixo:</p><p style=\"font-size:85%\" id =\"p2\"><i class=\"fas fa-exclamation-triangle\"></i><h7>&nbspErros:</h7><h7 id=\"qtdErro4\">1&nbsp</h7>&nbsp<i class=\"fas fa-exclamation-circle\"></i><h7>&nbspAvisos:</h7><h7 id=\"qtdAviso4\">0&nbsp</h7>&nbsp<i class=\"fas fa-check-circle\"></i><h7>&nbspCorreções:</h7><h7 id=\"qtdCorrecao&nbsp0\">0<h7></p><br><div class=\"input-group open\"><input class=\"form-control input-sm search-field\" type=\"text\" id=\"200\" onkeyup='searchTableTodos(\"0\",\"200\")' placeholder=\"Pesquisar\"><div class=\"input-group-btn\"><button type=\"button\" class=\"btn btn-default btn-sm\" title=\"Pesquisar\"><i class=\"fa fa-search\"></i></button></div></div><br><table class=\"table table-unfixed table-unstriped\" id=\"0\"><thead><tr><th class=\"col-fit\"><a type=\"button\" class=\"btn btn-default btn-xs\" id=\"chboxSaldoMensalExtratoBancario\" onclick=\"acaoCheckBoxHeader('SaldoMensalExtratoBancario1','chboxSaldoMensalExtratoBancario')\" style=\"\"><i class=\"fas fa-check-double\"></i></a></th><th>Sistema</th><th>Tipo</th><th>Descrição</th><th class=\"col-fit\"> Solução</th><th class=\"col-fit\"> Link</th></tr></thead><tbody><tr class=\"table-danger\" id=\"tr4\"><td><div class=\"bth-checkbox\"><input id=\"chbox4\" type=\"checkbox\" class=\"ng-pristine ng-valid ng-touched\" style=\"\" onclick=\"marcaResolvido('tr4','p2')\"><label for=\"chbox4\"></label></div></td><td>Tesouraria</td><td>Erro</td><td>Existe conciliação bancária realizada para a conta desativada no período de geração: 55571</td><td><button type=\"button\" class=\"btn btn-default btn-sm disabled\" data-toggle=\"popover\" data-placement=\"left\" data-trigger=\"focus\" title=\"\" data-content=\"\" disabled><i class=\"fas fa-question\"></i></button></td><td><a target=\"_blank\" href=\"https://tesouraria.cloud.betha.com.br/#/entidade/ZGF0YWJhc2U6MzUyMSxlbnRpdHk6MzYwNg==/cadastros/conciliacao-bancaria\"><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"tooltip\" data-trigger=\"focus\" title=\"Clique para acessar o sistema\" data-content=\"\"><i class=\"fas fa-link\"></i></button></a></td></tbody></table></section><section id=\"ConciliacaoBancaria2\" class=\"tab-panel\"><button id=\"btnShow1\" type=\"button\" class=\"btn btn-default btn-sm\" onclick=\"acaoMostrarEsconder('btnShow1')\">Esconder resolvidos</button><h2>ConciliacaoBancaria</h2><p>Verifique atentamente as validações informadas abaixo:</p><p style=\"font-size:85%\" id =\"p3\"><i class=\"fas fa-exclamation-triangle\"></i><h7>&nbspErros:</h7><h7 id=\"qtdErro5\">3&nbsp</h7>&nbsp<i class=\"fas fa-exclamation-circle\"></i><h7>&nbspAvisos:</h7><h7 id=\"qtdAviso5\">0&nbsp</h7>&nbsp<i class=\"fas fa-check-circle\"></i><h7>&nbspCorreções:</h7><h7 id=\"qtdCorrecao&nbsp0\">0<h7></p><br><div class=\"input-group open\"><input class=\"form-control input-sm search-field\" type=\"text\" id=\"201\" onkeyup='searchTableTodos(\"1\",\"201\")' placeholder=\"Pesquisar\"><div class=\"input-group-btn\"><button type=\"button\" class=\"btn btn-default btn-sm\" title=\"Pesquisar\"><i class=\"fa fa-search\"></i></button></div></div><br><table class=\"table table-unfixed table-unstriped\" id=\"1\"><thead><tr><th class=\"col-fit\"><a type=\"button\" class=\"btn btn-default btn-xs\" id=\"chboxConciliacaoBancaria\" onclick=\"acaoCheckBoxHeader('ConciliacaoBancaria2','chboxConciliacaoBancaria')\" style=\"\"><i class=\"fas fa-check-double\"></i></a></th><th>Sistema</th><th>Tipo</th><th>Descrição</th><th class=\"col-fit\"> Solução</th><th class=\"col-fit\"> Link</th></tr></thead><tbody><tr class=\"table-danger\" id=\"tr5\"><td><div class=\"bth-checkbox\"><input id=\"chbox5\" type=\"checkbox\" class=\"ng-pristine ng-valid ng-touched\" style=\"\" onclick=\"marcaResolvido('tr5','p3')\"><label for=\"chbox5\"></label></div></td><td>Tesouraria</td><td>Erro</td><td>Existe conciliação bancária realizada para a conta desativada no período de geração: BCO BRASIL C/C 9.654-7 - OPERAÇÃO VEICUL-Banco do Brasil S.A.-9.654</td><td><button type=\"button\" class=\"btn btn-default btn-sm disabled\" data-toggle=\"popover\" data-placement=\"left\" data-trigger=\"focus\" title=\"\" data-content=\"\" disabled><i class=\"fas fa-question\"></i></button></td><td><a target=\"_blank\" href=\"https://tesouraria.cloud.betha.com.br/#/entidade/ZGF0YWJhc2U6MzUyMSxlbnRpdHk6MzYwNg==/cadastros/conciliacao-bancaria\"><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"tooltip\" data-trigger=\"focus\" title=\"Clique para acessar o sistema\" data-content=\"\"><i class=\"fas fa-link\"></i></button></a></td><tr class=\"table-danger\" id=\"tr6\"><td><div class=\"bth-checkbox\"><input id=\"chbox6\" type=\"checkbox\" class=\"ng-pristine ng-valid ng-touched\" style=\"\" onclick=\"marcaResolvido('tr6','p3')\"><label for=\"chbox6\"></label></div></td><td>Tesouraria</td><td>Erro</td><td>Existe conciliação bancária realizada para a conta desativada no período de geração: BCO BRASIL C/C 9.666-0 INVESTIMENTO SUS-Banco do Brasil S.A.-9.660</td><td><button type=\"button\" class=\"btn btn-default btn-sm disabled\" data-toggle=\"popover\" data-placement=\"left\" data-trigger=\"focus\" title=\"\" data-content=\"\" disabled><i class=\"fas fa-question\"></i></button></td><td><a target=\"_blank\" href=\"https://tesouraria.cloud.betha.com.br/#/entidade/ZGF0YWJhc2U6MzUyMSxlbnRpdHk6MzYwNg==/cadastros/conciliacao-bancaria\"><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"tooltip\" data-trigger=\"focus\" title=\"Clique para acessar o sistema\" data-content=\"\"><i class=\"fas fa-link\"></i></button></a></td><tr class=\"table-danger\" id=\"tr7\"><td><div class=\"bth-checkbox\"><input id=\"chbox7\" type=\"checkbox\" class=\"ng-pristine ng-valid ng-touched\" style=\"\" onclick=\"marcaResolvido('tr7','p3')\"><label for=\"chbox7\"></label></div></td><td>Tesouraria</td><td>Erro</td><td>Existe conciliação bancária realizada para a conta desativada no período de geração: BCO BRASIL C/ FUNDEF 40%  6.841-1-Banco do Brasil S.A.-06.841</td><td><button type=\"button\" class=\"btn btn-default btn-sm disabled\" data-toggle=\"popover\" data-placement=\"left\" data-trigger=\"focus\" title=\"\" data-content=\"\" disabled><i class=\"fas fa-question\"></i></button></td><td><a target=\"_blank\" href=\"https://tesouraria.cloud.betha.com.br/#/entidade/ZGF0YWJhc2U6MzUyMSxlbnRpdHk6MzYwNg==/cadastros/conciliacao-bancaria\"><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"tooltip\" data-trigger=\"focus\" title=\"Clique para acessar o sistema\" data-content=\"\"><i class=\"fas fa-link\"></i></button></a></td></tbody></table></section></div></div></div></body></html>","chave":"Entidade_PM QUATRO PONTES - FL CURITIBA - PILOTOAno_2019TipoEnvio_MENSALOpcoes_3Mes_JaneiroAssunto_[SaldoMensalExtratoBancario, ConciliacaoBancaria]","_id":"XGZNz0jahxdMTaY9"}
{"uuid":"2d2dc85e-a354-11e9-a2a3-2a2ae2dbcce4","nome":"PM QUATRO PONTES - FL CURITIBA - PILOTO - 2019 (ConciliacaoBancaria)","usuario":"anderson.manoel","idEntidade":"3606","dataGeracao":"10-07-2019 17:49:14","quantidadeErros":"0","quantidadeAvisos":"0","quantidadeErrosFixo":"0","quantidadeAvisosFixo":"0","textoHtml":"<!DOCTYPE html><html lang=\"en\"><head><title>Validações &nbspTCE-PR_SIM-AM-Tesouraria</title><meta charset=\"utf-8\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"><link rel=\"shortcut icon\" href=\"https://i.ibb.co/2KddCq7/23113851-300x300.png\" type=\"image/x-icon\"><script src=\"https://cdn.betha.cloud/base/g4/front-end/2.13/js/base.js\"></script><script src=\"https://cdn.betha.cloud/base/g4/design/3.11.9/bth-design.js\"></script><script src=\"https://canvasjs.com/assets/script/canvasjs.min.js\"></script><link rel=\"stylesheet\" href=\"https://cdn.betha.cloud/base/g4/design/3.11.9/bth-design.css\"><link rel=\"stylesheet\" href=\"https://use.fontawesome.com/releases/v5.8.1/css/all.css\" integrity=\"sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf\" crossorigin=\"anonymous\"><style> /* CSS for the main interaction */ .tabset {font-size: 15px;} .tabset > input[type=\"radio\"] { position: absolute; left: -200vw; } .tabset .tab-panel { display: none; }.tabset>input:first-child:checked~.tab-panels>.tab-panel:first-child,.tabset>input:nth-child(3):checked~.tab-panels>.tab-panel:nth-child(2),.tabset>input:nth-child(5):checked~.tab-panels>.tab-panel:nth-child(3),.tabset>input:nth-child(7):checked~.tab-panels>.tab-panel:nth-child(4),.tabset>input:nth-child(9):checked~.tab-panels>.tab-panel:nth-child(5),.tabset>input:nth-child(11):checked~.tab-panels>.tab-panel:nth-child(6),.tabset>input:nth-child(13):checked~.tab-panels>.tab-panel:nth-child(7),.tabset>input:nth-child(15):checked~.tab-panels>.tab-panel:nth-child(8),.tabset>input:nth-child(17):checked~.tab-panels>.tab-panel:nth-child(9),.tabset>input:nth-child(19):checked~.tab-panels>.tab-panel:nth-child(10),.tabset>input:nth-child(21):checked~.tab-panels>.tab-panel:nth-child(11),.tabset>input:nth-child(23):checked~.tab-panels>.tab-panel:nth-child(12),.tabset>input:nth-child(25):checked~.tab-panels>.tab-panel:nth-child(13),.tabset>input:nth-child(27):checked~.tab-panels>.tab-panel:nth-child(14),.tabset>input:nth-child(29):checked~.tab-panels>.tab-panel:nth-child(15),.tabset>input:nth-child(31):checked~.tab-panels>.tab-panel:nth-child(16),.tabset>input:nth-child(33):checked~.tab-panels>.tab-panel:nth-child(17),.tabset>input:nth-child(35):checked~.tab-panels>.tab-panel:nth-child(18),.tabset>input:nth-child(37):checked~.tab-panels>.tab-panel:nth-child(19),.tabset>input:nth-child(39):checked~.tab-panels>.tab-panel:nth-child(20),.tabset>input:nth-child(41):checked~.tab-panels>.tab-panel:nth-child(21),.tabset>input:nth-child(43):checked~.tab-panels>.tab-panel:nth-child(22),.tabset>input:nth-child(45):checked~.tab-panels>.tab-panel:nth-child(23),.tabset>input:nth-child(47):checked~.tab-panels>.tab-panel:nth-child(24),.tabset>input:nth-child(49):checked~.tab-panels>.tab-panel:nth-child(25){display: block;}/* Styling */ .tabset > label { position: relative; display: inline-block; padding: 15px 15px 25px; border: 1px solid transparent; border-bottom: 0; cursor: pointer; font-weight: 600; top: 8px; } .tabset > label::after { content: \"\"; position: absolute; left: 15px; bottom: 10px; width: 22px; height: 4px; background: #8d8d8d; } .tabset > label:hover, .tabset > input:focus + label { color: #06c; } .tabset > label:hover::after, .tabset > input:focus + label::after, .tabset > input:checked + label::after { background: #06c; } .tabset > input:checked + label { border-color: #ccc; border-bottom: 1px solid #fff; margin-bottom: -1px; } .tab-panel { padding: 30px 0; border-top: 1px solid #ccc; } /* Demo purposes only */ *, *:before, *:after { box-sizing: border-box; }#myInput { background-image: url(https://image.flaticon.com/icons/svg/116/116836.svg); background-size: 100% 50%;/* Add a search icon to input */ background-position: 500px 12px; /* Position the search icon */ background-repeat: no-repeat; /* Do not repeat the icon image */ width: 100%; /* Full-width */ font-size: 16px; /* Increase font-size */ padding: 12px 20px 12px 40px; /* Add some padding */ border: 1px solid #ddd; /* Add a grey border */ margin-bottom: 12px; /* Add some space below the input */ } #myTable { border-collapse: collapse; /* Collapse borders */ width: 100%; /* Full-width */ border: 1px solid #ddd; /* Add a grey border */ font-size: 18px; /* Increase font-size */ } #myTable th, #myTable td { text-align: left; /* Left-align text */ padding: 12px; /* Add padding */ } #myTable tr { /* Add a bottom border to all table rows */ border-bottom: 1px solid #ddd; } #myTable tr.header, #myTable tr:hover { /* Add a grey background color to the table header and on hover */ background-color: #f1f1f1; }.fas.fa-exclamation-triangle{color: #ef1f41}.fas.fa-exclamation-circle{color: #deea00}.fas.fa-check-circle{ color: #04ce40 }.table-danger{background-color: #ffccce!important;} .table-warning{background-color: #fcf7b5!important;} .table-success{background-color: #b9d8b4!important;}body {            background-color: #fafafa;            font-size: 16px;            line-height: 1.5;            padding-top: 33px;        }        h1,        h2,        h3,        h4,        h5,        h6 {            font-weight: 400;        }        #header {            border-bottom: 5px solid #37474F;            color: #37474F;            margin-bottom: 1.5rem;        }        #revenue-tag {            font-weight: inherit !important;            border-radius: 0px !important;        }        .card {            border: 0rem;            border-radius: 0rem;        }        .card-header {            background-color: #37474F;            border-radius: 0 !important;            color: white;            margin-bottom: 0;            padding: 1rem;        }        .card-block {            border: 1px solid #cccccc;        }        .shadow {            box-shadow: 0 6px 10px 0 rgba(0, 0, 0, 0.14),                0 1px 18px 0 rgba(0, 0, 0, 0.12),                0 3px 5px -1px rgba(0, 0, 0, 0.2);        }        #revenue-column-chart,        #products-revenue-pie-chart,        #orders-spline-chart,        #graficoAvisosArquivo,        #graficoAvisosArquivo,\t\t #graficoEvolucaoInconsistencias,        #chartContainer {            height: 300px;            width: 100%; }</style></head><script>setInterval(function() { atualizaGraficoStacked();console.log(\"Dashboard atualizado!\"); }, 60000);var registrosCorrigidos = [];var paragrafosCorrigidos = [];var numeroCorrecoes = 0;var numeroErros = 0;var numeroAvisos = 0;var qtdErrosFixo = 0;var qtdAvisosFixo = 0;function GetMaiorData(dadosApi){\tvar ultimaExecucao = \"\";\tfor(var i = 0; i < dadosApi.length; i++){\t\tif(i === 0){\t\t\tultimaExecucao = dadosApi[i].dataGeracao;\t\t} else{\t\t\tif(dadosApi[i].dataGeracao > dadosApi[i-1].dataGeracao){\t\t\t\tultimaExecucao = dadosApi[i].dataGeracao;\t\t\t}\t\t}\t}\treturn ultimaExecucao;}async function atualizaGraficoStacked(){var graficoStackedColumn = \"\";    var graficoErrosArquivo = \"\";var graficoAvisosArquivo = \"\";var dadosErro = [];var dadosAviso = [];var dadosErroStacked = [];var dadosAvisoStacked = [];var dadosCorrecoesStacked = [];var dadosEvolucaoErros = [];var dadosEvolucaoAvisos = [];var retornoApiChaves = await getDadosPorChave();var dadosCardDashboard = await getDadosPorUUID();var dadosCorrigidoDashboard = 0;qtdErrosFixo = dadosCardDashboard.object[0].quantidadeErrosFixo;qtdAvisosFixo = dadosCardDashboard.object[0].quantidadeAvisosFixo;if(dadosCardDashboard.object[0].tabelaCorrigida){\tdadosCorrigidoDashboard = dadosCardDashboard.object[0].tabelaCorrigida.length;}document.querySelector(\".ErrosCardDashboard\").innerText = dadosCardDashboard.object[0].quantidadeErros;document.querySelector(\".AvisosCardDashboard\").innerText = dadosCardDashboard.object[0].quantidadeAvisos;document.querySelector(\".CorrecoesCardDashboard\").innerText = dadosCorrigidoDashboard;document.querySelector(\".UltimaExecCardDashboard\").innerText = GetMaiorData(retornoApiChaves.object);var first = true;var arquivos = document.querySelectorAll(\".tab-panel\");for (var i = 0; i < arquivos.length; i++) {if (arquivos[i].id != \"Dashboard0\" && arquivos[i].id != \"Todos0\") {if (first) {dadosErro.push({y: Number((arquivos[i].children[3].children[2].innerText)),name: (arquivos[i].id.substring(0, arquivos[i].id.length - 1)),indexLabel: (arquivos[i].id.substring(0, arquivos[i].id.length - 1)),legendText: (arquivos[i].id.substring(0, arquivos[i].id.length - 1)),exploded: true,});dadosAviso.push({y: Number((arquivos[i].children[3].children[5].innerText)),name: (arquivos[i].id.substring(0, arquivos[i].id.length - 1)),indexLabel: (arquivos[i].id.substring(0, arquivos[i].id.length - 1)),legendText: (arquivos[i].id.substring(0, arquivos[i].id.length - 1)),exploded: true,});dadosErroStacked.push({y: Number((arquivos[i].children[3].children[2].innerText)),label: (arquivos[i].id.substring(0, arquivos[i].id.length - 1))});dadosAvisoStacked.push({y: Number((arquivos[i].children[3].children[5].innerText)),label: (arquivos[i].id.substring(0, arquivos[i].id.length - 1))});dadosCorrecoesStacked.push({y: Number((arquivos[i].children[3].children[8].innerText)),label: (arquivos[i].id.substring(0, arquivos[i].id.length - 1))});} else {dadosErro.push({y: Number((arquivos[i].children[3].children[2].innerText)),name: (arquivos[i].id.substring(0, arquivos[i].id.length - 1)),indexLabel: (arquivos[i].id.substring(0, arquivos[i].id.length - 1)),legendText: (arquivos[i].id.substring(0, arquivos[i].id.length - 1)),});dadosAviso.push({y: Number((arquivos[i].children[3].children[5].innerText)),name: (arquivos[i].id.substring(0, arquivos[i].id.length - 1)),indexLabel: (arquivos[i].id.substring(0, arquivos[i].id.length - 1)),legendText: (arquivos[i].id.substring(0, arquivos[i].id.length - 1)),exploded: true,});dadosErroStacked.push({y: Number((arquivos[i].children[3].children[2].innerText)),label: (arquivos[i].id.substring(0, arquivos[i].id.length - 1))});dadosAvisoStacked.push({y: Number((arquivos[i].children[3].children[5].innerText)),label: (arquivos[i].id.substring(0, arquivos[i].id.length - 1))});dadosCorrecoesStacked.push({y: Number((arquivos[i].children[3].children[8].innerText)),label: (arquivos[i].id.substring(0, arquivos[i].id.length - 1))});}}}for (var i = 0; i < retornoApiChaves.object.length; i++) {\tdadosEvolucaoErros.push({\t\tlabel: retornoApiChaves.object[i].dataGeracao,\t\ty: Number(retornoApiChaves.object[i].quantidadeErrosFixo),\t});\tdadosEvolucaoAvisos.push({\t\tlabel: retornoApiChaves.object[i].dataGeracao,\t\ty: Number(retornoApiChaves.object[i].quantidadeAvisosFixo),\t});}graficoEvolucaoInconsistencias = new CanvasJS.Chart(\"graficoEvolucaoInconsistencias\", {\ttheme: \"light2\",\tanimationEnabled: true,\taxisY: {\t\tincludeZero: false,\t\ttitle: \"Numero de inconsistências\",\t},\ttoolTip: {\t\tshared: \"true\"\t},\tlegend: {\t\tcursor: \"pointer\",\t},\tdata: [\t{\t\ttype: \"spline\",\t\tcolor: \"red\",\t\tshowInLegend: true,\t\tname: \"Erros\",\t\tdataPoints: dadosEvolucaoErros\t},\t{\t\ttype: \"spline\",\t\tcolor: \"gold\",\t\tshowInLegend: true,\t\tname: \"Avisos\",\t\tdataPoints: dadosEvolucaoAvisos\t}]});graficoStackedColumn = new CanvasJS.Chart(\"chartContainer\", {data: [{type: \"stackedColumn\",color: \"#ffccce\",dataPoints: dadosErroStacked}, {type: \"stackedColumn\",color: \"#fcf7b5\",dataPoints: dadosAvisoStacked}, {type: \"stackedColumn\",color: \"#b9d8b4\",dataPoints: dadosCorrecoesStacked}]});graficoErrosArquivo = new CanvasJS.Chart(\"products-revenue-pie-chart\", {animationEnabled: true,theme: \"theme2\",legend: {fontSize: 14},toolTip: {borderThickness: 0,content: \"<span style='color: {color};'>{name}</span>: #percent%\",cornerRadius: 0},data: [{indexLabelFontColor: \"#676464\",indexLabelFontSize: 14,legendMarkerType: \"square\",legendText: \"{indexLabel}\",showInLegend: true,startAngle: 90,type: \"pie\",dataPoints: dadosErro,}]});graficoAvisosArquivo = new CanvasJS.Chart(\"graficoAvisosArquivo\", {animationEnabled: true,theme: \"theme2\",legend: {fontSize: 14},toolTip: {borderThickness: 0,content: \"<span style='color: {color};'>{name}</span>: #percent%\",cornerRadius: 0},data: [{indexLabelFontColor: \"#676464\",indexLabelFontSize: 14,legendMarkerType: \"square\",legendText: \"{indexLabel}\",showInLegend: true,startAngle: 90,type: \"pie\",dataPoints: dadosAviso,}]});graficoEvolucaoInconsistencias.render();graficoErrosArquivo.render();graficoAvisosArquivo.render();graficoStackedColumn.render();}$(function () {atualizaGraficoStacked();});function download_csv(csv, filename) {var csvFile;var downloadLink;csvFile = new Blob([\"﻿\",csv], {type: \"text/csv\"});downloadLink = document.createElement(\"a\");downloadLink.download = filename;downloadLink.href = window.URL.createObjectURL(csvFile);downloadLink.style.display = \"none\";document.body.appendChild(downloadLink);downloadLink.click();}function export_table_to_csv(html, filename) {var csv = [];var section = document.querySelector(\"#Todos0\");var rows = section.querySelectorAll(\".table-danger , .table-warning, .table-success\");for (var i = 0; i < rows.length; i++) {var row = [], cols = rows[i].querySelectorAll(\"td, th\");for (var j = 0; j < cols.length; j++){ if(j === 3){row.push(cols[j].children[0].dataset.content);}else{row.push(cols[j].innerText);}}csv.push(row.join('|'));}download_csv(csv.join(\"\\n\"), filename);}function geraRelCSV(){var html = document.querySelector(\"table\").outerHTML;export_table_to_csv(html, \"validacoes_TCE-PR_SIM-AM-Tesouraria_10-07-2019_17-49.csv\");}function mostraModalParametros(idModal){var display = document.querySelector(`#${idModal}`).style.display;if(display === \"none\"){var display = document.querySelector(`#${idModal}`).style.display = \"block\";}}function escondeModalParametros(idModal){document.querySelector(`#${idModal}`).style.display = \"none\";}function searchTableTodos(tableId,inputId) { var input, filter, found, table, tr, td, i, j; input = document.getElementById(inputId); filter = input.value.toUpperCase(); table = document.getElementById(tableId); tb = table.getElementsByTagName(\"tbody\"); for(i =0; i < tb.length; i++){ tr = tb[i].getElementsByTagName(\"tr\"); } for (i = 0; i < tr.length; i++) { td = tr[i].getElementsByTagName(\"td\"); for (j = 0; j < td.length; j++) { if (td[j].innerHTML.toUpperCase().indexOf(filter) > -1) { found = true; } } if (found) { tr[i].style.display = \"\"; found = false; } else { tr[i].style.display = \"none\"; } } }async function progresso(progressId) {var elem = document.getElementById(progressId);var width = 30;var id = setInterval(await frame, 10);async function frame() {if (width >= 100) {clearInterval(id);} else {width++;elem.style.width = width + '%';}}}jQuery.each( [ \"put\", \"delete\" ], function( i, method ) {jQuery[ method ] = function( url, data, callback, type ) {\tif ( jQuery.isFunction( data ) ) {\ttype = type || callback;\tcallback = data;\tdata = undefined;\t};\treturn jQuery.ajax({\turl: url,\ttype: method,\tdataType: type,\tdata: data,\tsuccess: callback\t});};});async function criaArquivo(uUID) {\tvar qtdErros = 0;\tvar qtdAviso = 0;\tvar dataGeracao = document.querySelector(\".dataGeracao\").innerText;\tvar chave = document.querySelector(\".parametrosBanco\").innerText;\terroAviso = document.querySelectorAll(\"h7\");\terroAviso.forEach(element => {\t\tif (!element.parentElement.parentElement.id.includes(\"Todos\")) {\t\t\tif (element.id.includes(\"qtdErro\")) {\t\t\t\tqtdErros += Number(element.innerText);\t\t\t}\t\t\tif (element.id.includes(\"qtdAviso\")) {\t\t\t\tqtdAviso += Number(element.innerText);\t\t\t}\t\t}\t});\tvar dados = {\t\tuuid: uUID,\t\ttabelaCorrigida: [],\t\tparagrafoCorrigido: [],\t\tdataGeracao: dataGeracao,\t\tquantidadeErros: qtdErros,\t\tquantidadeAvisos: qtdAviso,\t\tchave: chave,\t};\treturn new Promise(function (resolve, reject) {\t\t$.post(`http://betha-pdc-prevalidacoes.herokuapp.com/api/arquivo/`, dados, function (data, status) {\t\t\tresolve(data);\t\t});\t});}async function getDadosPorUUID() {\tvar uUID = document.querySelector(\".uuid\").innerText;\treturn new Promise((resolve, reject) => {\t\t$.get(`http://betha-pdc-prevalidacoes.herokuapp.com/api/arquivo/${uUID}`, function (data, status) {\t\t\tresolve(data);\t\t});\t}\t);}async function getDadosPorChave() {\tvar chave = document.querySelector(\".parametrosBanco\").innerText;\treturn new Promise((resolve, reject) => {\t\t$.get(`http://betha-pdc-prevalidacoes.herokuapp.com/api/arquivo/chave/${chave}/5/desc`, function (data, status) {\t\t\tarrayOrdenado = eval(data);\t\t\tvar results = arrayOrdenado['object'];\t\t\tresults.sort(function(a,b){\t\t\t\tif(a.dataGeracao == b.dataGeracao)\t\t\t\t\treturn 0;\t\t\t\tif(a.dataGeracao < b.dataGeracao)\t\t\t\t\treturn -1;\t\t\t\tif(a.dataGeracao > b.dataGeracao)\t\t\t\t\treturn 1;\t\t\t});\t\t\tdata.object = results;\t\t\tresolve(data);\t\t});\t});}async function atualizaDadosCorrecao(dadosTabela, dadosParagrafo) {\tvar uUID = document.querySelector(\".uuid\").innerText.substring(0, 36);\tvar qtdErros = 0;\tvar qtdAviso = 0;\tvar dataGeracao = document.querySelector(\".dataGeracao\").innerText;\tvar chave = document.querySelector(\".parametrosBanco\").innerText;\terroAviso = document.querySelectorAll(\"h7\");\terroAviso.forEach(element => {\t\tif (!element.parentElement.parentElement.id.includes(\"Todos\")) {\t\t\tif (element.id.includes(\"qtdErro\")) {\t\t\t\tqtdErros += Number(element.innerText);\t\t\t}\t\t\tif (element.id.includes(\"qtdAviso\")) {\t\t\t\tqtdAviso += Number(element.innerText);\t\t\t}\t\t}\t});\tvar dados = {\t\tuuid: uUID,\t\ttabelaCorrigida: dadosTabela,\t\tparagrafoCorrigido: dadosParagrafo,\t\tdataGeracao: dataGeracao,\t\tquantidadeErros: qtdErros,\t\tquantidadeAvisos: qtdAviso,\t\tquantidadeErrosFixo: qtdErrosFixo,\t\tquantidadeAvisosFixo: qtdAvisosFixo,\t\tchave: chave,\t};\t$.put(`http://betha-pdc-prevalidacoes.herokuapp.com/api/arquivo/${uUID}`, dados, function (result) {\t\tconsole.log(result);\t});}async function verificaArquivo(uuid) {\treturn new Promise(function (resolve, reject) {\t\t$.get(`http://betha-pdc-prevalidacoes.herokuapp.com/api/arquivo/${uuid}`, function (data, status) {\t\t\tif (data.object.length === 0) {\t\t\t\tresolve(false);\t\t\t};\t\t\tresolve(true);\t\t});\t});}async function getTabelasCorrigidas(uuid) {\treturn new Promise(function (resolve, reject) {\t\t$.get(`http://betha-pdc-prevalidacoes.herokuapp.com/api/arquivo/${uuid}`, function (data, status) {\t\t\tif (data.object[0].tabelaCorrigida) {\t\t\t\tresolve(data.object[0].tabelaCorrigida);\t\t\t};\t\t\tresolve(['']);\t\t});\t});}async function getParagrafosCorrigidos(uuid) {\treturn new Promise(function (resolve, reject) {\t\t$.get(`http://betha-pdc-prevalidacoes.herokuapp.com/api/arquivo/${uuid}`, function (data, status) {\t\t\tif ((data.object[0].paragrafoCorrigido)) {\t\t\t\tresolve(data.object[0].paragrafoCorrigido);\t\t\t};\t\t\tresolve(['']);\t\t});\t});}async function getDadosLocalStorage() {        var uUID = document.querySelector(\".uuid\").innerText.substring(0, 36);        var arquivoExiste = await verificaArquivo(uUID);        console.log(arquivoExiste);        if (!arquivoExiste) {            console.log(await criaArquivo(uUID));        } else {            var tabelasCorrigida = await getTabelasCorrigidas(uUID);            var paragrafosCorrigido = await getParagrafosCorrigidos(uUID);            if (tabelasCorrigida != \"\") {                tabelasCorrigida.forEach(tableId => {                    classe = document.getElementById(tableId).getAttribute(\"class\");                    if (classe == 'table-danger') {                        numeroCorrecoes = document.getElementById(paragrafosCorrigido[0]).children[8].innerText;                        numeroErros = document.getElementById(paragrafosCorrigido[0]).children[2].innerText;                        numeroCorrecoes++;                        numeroErros--;                        document.getElementById(paragrafosCorrigido[0]).children[8].innerText = numeroCorrecoes;                        document.getElementById(paragrafosCorrigido[0]).children[2].innerText = numeroErros;                        registrosCorrigidos.push(tableId);                        paragrafosCorrigidos.push(paragrafosCorrigido[0]);                        paragrafosCorrigido.shift();                        tr = document.getElementById(tableId).classList.remove('table-danger');                        tr = document.getElementById(tableId).classList.add('table-success');                        document.getElementById(tableId).children[0].children[0].children[0].checked = true;                    }                    if (classe == 'table-warning') {                        numeroCorrecoes = document.getElementById(paragrafosCorrigido[0]).children[8].innerText;                        numeroAvisos = document.getElementById(paragrafosCorrigido[0]).children[5].innerText;                        numeroCorrecoes++;                        numeroAvisos--;                        document.getElementById(paragrafosCorrigido[0]).children[8].innerText = numeroCorrecoes;                        document.getElementById(paragrafosCorrigido[0]).children[5].innerText = numeroAvisos;                        registrosCorrigidos.push(tableId);                        paragrafosCorrigidos.push(paragrafosCorrigido[0]);                        paragrafosCorrigido.shift();                        tr = document.getElementById(tableId).classList.remove('table-warning');                        tr = document.getElementById(tableId).classList.add('table-success');                        document.getElementById(tableId).children[0].children[0].children[0].checked = true;                    }                });            }        }    }function acaoMostrarEsconder(buttonId){buttonId = `#${buttonId}`;var tabelasCorrigidas = document.querySelector(\".table-success\");var button = document.querySelector(buttonId);var display = tabelasCorrigidas.style.display;if(display === \"\"){button.innerText = \"MOSTRAR RESOLVIDOS\";escondeResolvidos();}else{button.innerText = \"ESCONDER RESOLVIDOS\";mostraResolvidos();}}function escondeResolvidos() {var corrigidos = document.getElementsByClassName(\"table-success\");for (var i = 0; i < corrigidos.length; i++) {corrigidos[i].style.display = \"none\";}}function mostraResolvidos() {var corrigidos = document.getElementsByClassName(\"table-success\");for (var i = 0; i < corrigidos.length; i++) {corrigidos[i].style.display = \"\";}}$(document).ready(function() {getDadosLocalStorage();$(\"body\").popover({template: '<div class=\"popover med-popover left in\" role=\"tooltip\"><div class=\"arrow\"></div><div class=\"popover-content\"></div></div>',container: \"body\",trigger: \"manual\",placement: \"left\",selector: \"[data-toggle=popover]\"});$(\"[data-toggle=popover]\").on(\"click\", function () {$(this).popover(\"toggle\");});});function marcaResolvido(idTable, paragrafoId) {primeiroErro  = true;primeiroAviso = true;numeroCorrecoes = document.getElementById(paragrafoId).children[8].innerText;        classe = document.getElementById(idTable).getAttribute(\"class\");        if (classe === \"table-danger\") {            tr = document.getElementById(idTable).classList.remove('table-danger');            tr = document.getElementById(idTable).classList.add('table-success');            numeroCorrecoes++;            numeroErros = document.getElementById(paragrafoId).children[2].innerText;            numeroErros--;            document.getElementById(paragrafoId).children[2].innerText = numeroErros;            document.getElementById(paragrafoId).children[8].innerText = numeroCorrecoes;            registrosCorrigidos.push(idTable);            paragrafosCorrigidos.push(paragrafoId);            atualizaDadosCorrecao(registrosCorrigidos,paragrafosCorrigidos);        }        if (classe === \"table-warning\") {            tr = document.getElementById(idTable).classList.remove('table-warning');            tr = document.getElementById(idTable).classList.add('table-success');            numeroCorrecoes++;            numeroAvisos = document.getElementById(paragrafoId).children[5].innerText;            numeroAvisos--;            document.getElementById(paragrafoId).children[5].innerText = numeroAvisos;            document.getElementById(paragrafoId).children[8].innerText = numeroCorrecoes;            registrosCorrigidos.push(idTable);            paragrafosCorrigidos.push(paragrafoId);            atualizaDadosCorrecao(registrosCorrigidos,paragrafosCorrigidos);        }        if (classe === \"table-success\") {            tr = document.getElementById(idTable);            td = tr.getElementsByTagName(\"td\");            var tipoMsg = td[2].innerText;            if (tipoMsg === \"Aviso\") {                tr = document.getElementById(idTable).classList.remove('table-success');                tr = document.getElementById(idTable).classList.add('table-warning');                numeroCorrecoes--;                numeroAvisos = document.getElementById(paragrafoId).children[5].innerText;                numeroAvisos++;                document.getElementById(paragrafoId).children[5].innerText = numeroAvisos;                document.getElementById(paragrafoId).children[8].innerText = numeroCorrecoes;                for (var i = 0; i < registrosCorrigidos.length; i++) {                    if (registrosCorrigidos[i] === idTable) {                        registrosCorrigidos.splice(i, 1);                    }                }                for (var i = 0; i < paragrafosCorrigidos.length; i++) {                    if (paragrafosCorrigidos[i] === paragrafoId) {\t\t\t\t\t   if(primeiroAviso){                         paragrafosCorrigidos.splice(i, 1);\t\t\t\t\t\t  primeiroAviso = false;                      }                   }                }                atualizaDadosCorrecao(registrosCorrigidos,paragrafosCorrigidos);            } else {                tr = document.getElementById(idTable).classList.remove('table-success');                tr = document.getElementById(idTable).classList.add('table-danger');                numeroCorrecoes--;                numeroErros = document.getElementById(paragrafoId).children[2].innerText;                numeroErros++;                document.getElementById(paragrafoId).children[2].innerText = numeroErros;                document.getElementById(paragrafoId).children[8].innerText = numeroCorrecoes;                for (var i = 0; i < registrosCorrigidos.length; i++) {                    if (registrosCorrigidos[i] === idTable) {                        registrosCorrigidos.splice(i, 1);                    }                }                for (var i = 0; i < paragrafosCorrigidos.length; i++) {                    if (paragrafosCorrigidos[i] === paragrafoId) {\t\t\t\t\t\tif(primeiroErro){                        \tparagrafosCorrigidos.splice(i, 1);\t\t\t\t\t\t \tprimeiroErro = false;                    \t}                    }                }                atualizaDadosCorrecao(registrosCorrigidos,paragrafosCorrigidos);            }        }    }function acaoCheckBoxHeader(sectionId, idCheckBoxHeader) {tipoAcao = document.querySelector(`#${idCheckBoxHeader}`).children[0].getAttribute(\"class\");if(tipoAcao === 'fas fa-check-double'){marcarDesmarcarCheck(sectionId,true);document.querySelector(`#${idCheckBoxHeader}`).children[0].className = 'fas fa-times';}if(tipoAcao === 'fas fa-times'){marcarDesmarcarCheck(sectionId,false);document.querySelector(`#${idCheckBoxHeader}`).children[0].className = 'fas fa-check-double';}}function marcarDesmarcarCheck(sectionId, acao) {query = `#${sectionId}`;section = document.querySelector(query);checkboxes = section.querySelectorAll(\".bth-checkbox\");paragrafoId = section.children[3].id;tables = section.querySelectorAll('.table');for (var i = 0; i < tables.length; i++) {var tbody = tables[i].children[1];for (var j = 0; j < tbody.children.length; j++) {if(acao){tipoMsg = tbody.children[j].children[2].innerText;if(tbody.children[j].className === 'table-success'){numeroCorrecoes--;document.getElementById(paragrafoId).children[8].innerText = numeroCorrecoes;if(tipoMsg === \"Erro\"){numeroErros++;document.getElementById(paragrafoId).children[2].innerText = numeroErros;}else{numeroAvisos++;document.getElementById(paragrafoId).children[5].innerText = numeroAvisos;}}if(tipoMsg === \"Erro\"){tbody.children[j].className = \"table-danger\";tbody.children[j].children[0].children[0].children[0].checked = false;}else{tbody.children[j].className = \"table-warning\";tbody.children[j].children[0].children[0].children[0].checked = false;}trId = tbody.children[j].id;marcaResolvido(trId,paragrafoId);}else{if(tbody.children[j].className === 'table-danger'){numeroErros--;numeroCorrecoes++;document.getElementById(paragrafoId).children[8].innerText = numeroCorrecoes;document.getElementById(paragrafoId).children[2].innerText = numeroErros;}if(tbody.children[j].className === 'table-warning'){numeroAvisos--;numeroCorrecoes++;document.getElementById(paragrafoId).children[8].innerText = numeroCorrecoes;document.getElementById(paragrafoId).children[5].innerText = numeroAvisos;}tbody.children[j].className = \"table-success\";for (var i = 0; i < checkboxes.length; i++) {checkboxes[i].children[0].checked = acao;}numeroCorrecoes--;trId = tbody.children[j].id;marcaResolvido(trId,paragrafoId);}}}if(acao){for (var i = 0; i < checkboxes.length; i++) {checkboxes[i].children[0].checked = acao;}}}</script><body><div style=\"display: none;\" class=\"uuid\">2d2dc85e-a354-11e9-a2a3-2a2ae2dbcce4\r\n</div><div style=\"display: none;\" class=\"dataGeracao\">10-07-2019 17:49:14</div><div style=\"display: none;\" class=\"parametrosBanco\">Entidade_PM QUATRO PONTES - FL CURITIBA - PILOTOAno_2019TipoEnvio_MENSALOpcoes_1Mes_JaneiroAssunto_[ConciliacaoBancaria]</div><div style=\"display: none;\" class=\"idEntidade\">3606</div><div id=\"modal1\" data-bf-loading-type=\"dialog\" class=\"modal fade in\" style=\"display: none; z-index: 1070;\"><div class=\"modal-dialog\" role=\"document\"><div class=\"modal-content modal-content__sidebar\"><div class=\"modal-header\"><h5 class=\"modal-title\">Parâmetros da execução</h5></button></div><div class=\"modal-body modal-run\"><table class=\"table table-unfixed table-unstriped\"><thead><tr><th>Parâmetro</th><th>Valor</th></tr></thead><tbody><tr><td>Script</td><td>MÓDULO TESOURARIA - SIM-AM</td></tr><tr><td>Entidade</td><td>PM QUATRO PONTES - FL CURITIBA - PILOTO</td></tr><tr><td>Exercício</td><td>2019</td></tr><tr><td>Tipo de envio</td><td>MENSAL</td></tr><tr><td>Opção de geração</td><td>1</td></tr><tr><td>Mês</td><td>Janeiro</td></tr><tr><td>Assunto(s)</td><td>[ConciliacaoBancaria]</td></tr></tbody></table> </div><div class=\"modal-footer\"><button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\" onclick=\"escondeModalParametros('modal1')\">Fechar</button></div></div></div></div><div class=\"container container-fluid\"><div ui-view=\"header\" class=\"ng-scope\" style=\"\"><header class=\"ng-scope\"><div id=\"header\" class=\"megamenu-container\"><div class=\"container iv\"><ul class=\"megamenu\"><li class=\"menu-static\"><a href=\"#\" class=\"drop\"><div class=\"bth-logo bth-logo--brand-blue\"><div class=\"bth-logo__image\"></div></div><span class=\"megamenu-title\">Relatório de Pré-Validações</span></a></li></ul></div></div></header></div><div class=\"bth-card\"><div class=\"bth-card__header\"><div class=\"row\"><div class=\"col-md-12\"><div class=\"bth-card bth-card--filled\"><div class=\"bth-card__body\"><div class=\"row row-flex bottom\"><div class=\"col-md-1 text-center\"><a target=\"_blank\" href=\"http://www.betha.com.br/\"><img src=\"https://i.ibb.co/TWSgZX4/logo-share-square.png\" alt=\"logo-share-square\" border=\"0\" style=\"height: 10vh;\"></a></div><div class=\"col-md-6\" style=\"border-left: 1px solid #E1E3E6;padding-left: 15px;\"><label style=\"font-size: 14px\">Entidade</label><h2 class=\"top ng-binding\">PM QUATRO PONTES - FL CURITIBA - PILOTO</h2></div><div class=\"col-md-3\" style=\"border-left: 1px solid #E1E3E6;padding-left: 15px;\"><label style=\"font-size: 14px\">Ano</label><h2 class=\"top ng-binding\">2019</h2></div><div class=\"col-md-2 text-right\"><button class=\"btn btn-default btn-sm\" onclick=\"mostraModalParametros('modal1')\"><i class=\"fas fa-cogs\"></i> Parâmetros</button></div></div></div></div></div></div></div><div class=\"bth-card__body\"><div><p style=\"font-size: 70%;\" ><i class=\"fas fa-info-circle\"></i>  Para acesso a todas as funcionalidades do arquivo, recomendamos a utilização dos navegadores <em>Google Chrome</em> e <em>Firefox</em>.</p><p style=\"font-size: 70%;\" ><i class=\"fas fa-info-circle\"></i> Para que o <em>Link</em> tenha funcionamento adequado, abra este arquivo no mesmo navegador do sistema.</p></div><div class=\"tabset\"><input type=\"radio\" name=\"tabset\" id=\"ConciliacaoBancaria\" aria-controls=\"ConciliacaoBancaria\" checked><label style=\"font-size: 15px;\" for=\"ConciliacaoBancaria\">ConciliacaoBancaria</label><div class =\"tab-panels\"></section><section id=\"ConciliacaoBancaria0\" class=\"tab-panel\"><button id=\"btnShow0\" type=\"button\" class=\"btn btn-default btn-sm\" onclick=\"acaoMostrarEsconder('btnShow0')\">Esconder resolvidos</button><h2>ConciliacaoBancaria</h2><p>Verifique atentamente as validações informadas abaixo:</p><p style=\"font-size:85%\" id =\"p0\"><i class=\"fas fa-exclamation-triangle\"></i><h7>&nbspErros:</h7><h7 id=\"qtdErro0\">3&nbsp</h7>&nbsp<i class=\"fas fa-exclamation-circle\"></i><h7>&nbspAvisos:</h7><h7 id=\"qtdAviso0\">0&nbsp</h7>&nbsp<i class=\"fas fa-check-circle\"></i><h7>&nbspCorreções:</h7><h7 id=\"qtdCorrecao&nbsp0\">0<h7></p><br><div class=\"input-group open\"><input class=\"form-control input-sm search-field\" type=\"text\" id=\"200\" onkeyup='searchTableTodos(\"table\",\"200\")' placeholder=\"Pesquisar\"><div class=\"input-group-btn\"><button type=\"button\" class=\"btn btn-default btn-sm\" title=\"Pesquisar\"><i class=\"fa fa-search\"></i></button></div></div><br><table class=\"table table-unfixed table-unstriped\" id=\"table\"><thead><tr><th class=\"col-fit\"><a type=\"button\" class=\"btn btn-default btn-xs\" id=\"chboxConciliacaoBancaria\" onclick=\"acaoCheckBoxHeader('ConciliacaoBancaria0','chboxConciliacaoBancaria')\" style=\"\"><i class=\"fas fa-check-double\"></i></a></th><th>Sistema</th><th>Tipo</th><th>Descrição</th><th class=\"col-fit\"> Solução</th><th class=\"col-fit\"> Link</th></tr></thead><tbody><tr class=\"table-danger\" id=\"tr0\"><td><div class=\"bth-checkbox\"><input id=\"chbox0\" type=\"checkbox\" class=\"ng-pristine ng-valid ng-touched\" style=\"\" onclick=\"marcaResolvido('tr0','p0')\"><label for=\"chbox0\"></label></div></td><td>Tesouraria</td><td>Erro</td><td>Existe conciliação bancária realizada para a conta desativada no período de geração: BCO BRASIL C/C 9.654-7 - OPERAÇÃO VEICUL-Banco do Brasil S.A.-9.654</td><td><button type=\"button\" class=\"btn btn-default btn-sm disabled\" data-toggle=\"popover\" data-placement=\"left\" data-trigger=\"focus\" title=\"\" data-content=\"\" disabled><i class=\"fas fa-question\"></i></button></td><td><a target=\"_blank\" href=\"https://tesouraria.cloud.betha.com.br/#/entidade/ZGF0YWJhc2U6MzUyMSxlbnRpdHk6MzYwNg==/cadastros/conciliacao-bancaria\"><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"tooltip\" data-trigger=\"focus\" title=\"Clique para acessar o sistema\" data-content=\"\"><i class=\"fas fa-link\"></i></button></a></td><tr class=\"table-danger\" id=\"tr1\"><td><div class=\"bth-checkbox\"><input id=\"chbox1\" type=\"checkbox\" class=\"ng-pristine ng-valid ng-touched\" style=\"\" onclick=\"marcaResolvido('tr1','p0')\"><label for=\"chbox1\"></label></div></td><td>Tesouraria</td><td>Erro</td><td>Existe conciliação bancária realizada para a conta desativada no período de geração: BCO BRASIL C/C 9.666-0 INVESTIMENTO SUS-Banco do Brasil S.A.-9.660</td><td><button type=\"button\" class=\"btn btn-default btn-sm disabled\" data-toggle=\"popover\" data-placement=\"left\" data-trigger=\"focus\" title=\"\" data-content=\"\" disabled><i class=\"fas fa-question\"></i></button></td><td><a target=\"_blank\" href=\"https://tesouraria.cloud.betha.com.br/#/entidade/ZGF0YWJhc2U6MzUyMSxlbnRpdHk6MzYwNg==/cadastros/conciliacao-bancaria\"><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"tooltip\" data-trigger=\"focus\" title=\"Clique para acessar o sistema\" data-content=\"\"><i class=\"fas fa-link\"></i></button></a></td><tr class=\"table-danger\" id=\"tr2\"><td><div class=\"bth-checkbox\"><input id=\"chbox2\" type=\"checkbox\" class=\"ng-pristine ng-valid ng-touched\" style=\"\" onclick=\"marcaResolvido('tr2','p0')\"><label for=\"chbox2\"></label></div></td><td>Tesouraria</td><td>Erro</td><td>Existe conciliação bancária realizada para a conta desativada no período de geração: BCO BRASIL C/ FUNDEF 40%  6.841-1-Banco do Brasil S.A.-06.841</td><td><button type=\"button\" class=\"btn btn-default btn-sm disabled\" data-toggle=\"popover\" data-placement=\"left\" data-trigger=\"focus\" title=\"\" data-content=\"\" disabled><i class=\"fas fa-question\"></i></button></td><td><a target=\"_blank\" href=\"https://tesouraria.cloud.betha.com.br/#/entidade/ZGF0YWJhc2U6MzUyMSxlbnRpdHk6MzYwNg==/cadastros/conciliacao-bancaria\"><button type=\"button\" class=\"btn btn-default btn-sm\" data-toggle=\"tooltip\" data-trigger=\"focus\" title=\"Clique para acessar o sistema\" data-content=\"\"><i class=\"fas fa-link\"></i></button></a></td></tbody></table></section></div></div></div></body></html>","chave":"Entidade_PM QUATRO PONTES - FL CURITIBA - PILOTOAno_2019TipoEnvio_MENSALOpcoes_1Mes_JaneiroAssunto_[ConciliacaoBancaria]","_id":"q687pY8EVTnytrO7"}
